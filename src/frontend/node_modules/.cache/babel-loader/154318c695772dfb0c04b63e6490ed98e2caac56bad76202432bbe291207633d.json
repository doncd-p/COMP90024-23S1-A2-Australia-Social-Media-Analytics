{"ast":null,"code":"/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction _default(ecModel) {\n  var processedMapType = {};\n  ecModel.eachSeriesByType('map', function (mapSeries) {\n    var mapType = mapSeries.getMapType();\n    if (mapSeries.getHostGeoModel() || processedMapType[mapType]) {\n      return;\n    }\n    var mapSymbolOffsets = {};\n    zrUtil.each(mapSeries.seriesGroup, function (subMapSeries) {\n      var geo = subMapSeries.coordinateSystem;\n      var data = subMapSeries.originalData;\n      if (subMapSeries.get('showLegendSymbol') && ecModel.getComponent('legend')) {\n        data.each(data.mapDimension('value'), function (value, idx) {\n          var name = data.getName(idx);\n          var region = geo.getRegion(name); // If input series.data is [11, 22, '-'/null/undefined, 44],\n          // it will be filled with NaN: [11, 22, NaN, 44] and NaN will\n          // not be drawn. So here must validate if value is NaN.\n\n          if (!region || isNaN(value)) {\n            return;\n          }\n          var offset = mapSymbolOffsets[name] || 0;\n          var point = geo.dataToPoint(region.center);\n          mapSymbolOffsets[name] = offset + 1;\n          data.setItemLayout(idx, {\n            point: point,\n            offset: offset\n          });\n        });\n      }\n    }); // Show label of those region not has legendSymbol(which is offset 0)\n\n    var data = mapSeries.getData();\n    data.each(function (idx) {\n      var name = data.getName(idx);\n      var layout = data.getItemLayout(idx) || {};\n      layout.showLabel = !mapSymbolOffsets[name];\n      data.setItemLayout(idx, layout);\n    });\n    processedMapType[mapType] = true;\n  });\n}\nmodule.exports = _default;","map":{"version":3,"names":["zrUtil","require","_default","ecModel","processedMapType","eachSeriesByType","mapSeries","mapType","getMapType","getHostGeoModel","mapSymbolOffsets","each","seriesGroup","subMapSeries","geo","coordinateSystem","data","originalData","get","getComponent","mapDimension","value","idx","name","getName","region","getRegion","isNaN","offset","point","dataToPoint","center","setItemLayout","getData","layout","getItemLayout","showLabel","module","exports"],"sources":["/Users/zoyazhou/workspace/vscodeProjects/ccc/COMP90024-23S1-A2-Australia-Social-Media-Analytics/src/frontend/node_modules/echarts/lib/chart/map/mapSymbolLayout.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction _default(ecModel) {\n  var processedMapType = {};\n  ecModel.eachSeriesByType('map', function (mapSeries) {\n    var mapType = mapSeries.getMapType();\n\n    if (mapSeries.getHostGeoModel() || processedMapType[mapType]) {\n      return;\n    }\n\n    var mapSymbolOffsets = {};\n    zrUtil.each(mapSeries.seriesGroup, function (subMapSeries) {\n      var geo = subMapSeries.coordinateSystem;\n      var data = subMapSeries.originalData;\n\n      if (subMapSeries.get('showLegendSymbol') && ecModel.getComponent('legend')) {\n        data.each(data.mapDimension('value'), function (value, idx) {\n          var name = data.getName(idx);\n          var region = geo.getRegion(name); // If input series.data is [11, 22, '-'/null/undefined, 44],\n          // it will be filled with NaN: [11, 22, NaN, 44] and NaN will\n          // not be drawn. So here must validate if value is NaN.\n\n          if (!region || isNaN(value)) {\n            return;\n          }\n\n          var offset = mapSymbolOffsets[name] || 0;\n          var point = geo.dataToPoint(region.center);\n          mapSymbolOffsets[name] = offset + 1;\n          data.setItemLayout(idx, {\n            point: point,\n            offset: offset\n          });\n        });\n      }\n    }); // Show label of those region not has legendSymbol(which is offset 0)\n\n    var data = mapSeries.getData();\n    data.each(function (idx) {\n      var name = data.getName(idx);\n      var layout = data.getItemLayout(idx) || {};\n      layout.showLabel = !mapSymbolOffsets[name];\n      data.setItemLayout(idx, layout);\n    });\n    processedMapType[mapType] = true;\n  });\n}\n\nmodule.exports = _default;"],"mappings":"AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIA,MAAM,GAAGC,OAAO,CAAC,uBAAuB,CAAC;;AAE7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,QAAQA,CAACC,OAAO,EAAE;EACzB,IAAIC,gBAAgB,GAAG,CAAC,CAAC;EACzBD,OAAO,CAACE,gBAAgB,CAAC,KAAK,EAAE,UAAUC,SAAS,EAAE;IACnD,IAAIC,OAAO,GAAGD,SAAS,CAACE,UAAU,EAAE;IAEpC,IAAIF,SAAS,CAACG,eAAe,EAAE,IAAIL,gBAAgB,CAACG,OAAO,CAAC,EAAE;MAC5D;IACF;IAEA,IAAIG,gBAAgB,GAAG,CAAC,CAAC;IACzBV,MAAM,CAACW,IAAI,CAACL,SAAS,CAACM,WAAW,EAAE,UAAUC,YAAY,EAAE;MACzD,IAAIC,GAAG,GAAGD,YAAY,CAACE,gBAAgB;MACvC,IAAIC,IAAI,GAAGH,YAAY,CAACI,YAAY;MAEpC,IAAIJ,YAAY,CAACK,GAAG,CAAC,kBAAkB,CAAC,IAAIf,OAAO,CAACgB,YAAY,CAAC,QAAQ,CAAC,EAAE;QAC1EH,IAAI,CAACL,IAAI,CAACK,IAAI,CAACI,YAAY,CAAC,OAAO,CAAC,EAAE,UAAUC,KAAK,EAAEC,GAAG,EAAE;UAC1D,IAAIC,IAAI,GAAGP,IAAI,CAACQ,OAAO,CAACF,GAAG,CAAC;UAC5B,IAAIG,MAAM,GAAGX,GAAG,CAACY,SAAS,CAACH,IAAI,CAAC,CAAC,CAAC;UAClC;UACA;;UAEA,IAAI,CAACE,MAAM,IAAIE,KAAK,CAACN,KAAK,CAAC,EAAE;YAC3B;UACF;UAEA,IAAIO,MAAM,GAAGlB,gBAAgB,CAACa,IAAI,CAAC,IAAI,CAAC;UACxC,IAAIM,KAAK,GAAGf,GAAG,CAACgB,WAAW,CAACL,MAAM,CAACM,MAAM,CAAC;UAC1CrB,gBAAgB,CAACa,IAAI,CAAC,GAAGK,MAAM,GAAG,CAAC;UACnCZ,IAAI,CAACgB,aAAa,CAACV,GAAG,EAAE;YACtBO,KAAK,EAAEA,KAAK;YACZD,MAAM,EAAEA;UACV,CAAC,CAAC;QACJ,CAAC,CAAC;MACJ;IACF,CAAC,CAAC,CAAC,CAAC;;IAEJ,IAAIZ,IAAI,GAAGV,SAAS,CAAC2B,OAAO,EAAE;IAC9BjB,IAAI,CAACL,IAAI,CAAC,UAAUW,GAAG,EAAE;MACvB,IAAIC,IAAI,GAAGP,IAAI,CAACQ,OAAO,CAACF,GAAG,CAAC;MAC5B,IAAIY,MAAM,GAAGlB,IAAI,CAACmB,aAAa,CAACb,GAAG,CAAC,IAAI,CAAC,CAAC;MAC1CY,MAAM,CAACE,SAAS,GAAG,CAAC1B,gBAAgB,CAACa,IAAI,CAAC;MAC1CP,IAAI,CAACgB,aAAa,CAACV,GAAG,EAAEY,MAAM,CAAC;IACjC,CAAC,CAAC;IACF9B,gBAAgB,CAACG,OAAO,CAAC,GAAG,IAAI;EAClC,CAAC,CAAC;AACJ;AAEA8B,MAAM,CAACC,OAAO,GAAGpC,QAAQ"},"metadata":{},"sourceType":"script","externalDependencies":[]}