{"ast":null,"code":"var PathProxy = require(\"../core/PathProxy\");\nvar _vector = require(\"../core/vector\");\nvar v2ApplyTransform = _vector.applyTransform;\nvar CMD = PathProxy.CMD;\nvar points = [[], [], []];\nvar mathSqrt = Math.sqrt;\nvar mathAtan2 = Math.atan2;\nfunction _default(path, m) {\n  var data = path.data;\n  var cmd;\n  var nPoint;\n  var i;\n  var j;\n  var k;\n  var p;\n  var M = CMD.M;\n  var C = CMD.C;\n  var L = CMD.L;\n  var R = CMD.R;\n  var A = CMD.A;\n  var Q = CMD.Q;\n  for (i = 0, j = 0; i < data.length;) {\n    cmd = data[i++];\n    j = i;\n    nPoint = 0;\n    switch (cmd) {\n      case M:\n        nPoint = 1;\n        break;\n      case L:\n        nPoint = 1;\n        break;\n      case C:\n        nPoint = 3;\n        break;\n      case Q:\n        nPoint = 2;\n        break;\n      case A:\n        var x = m[4];\n        var y = m[5];\n        var sx = mathSqrt(m[0] * m[0] + m[1] * m[1]);\n        var sy = mathSqrt(m[2] * m[2] + m[3] * m[3]);\n        var angle = mathAtan2(-m[1] / sy, m[0] / sx); // cx\n\n        data[i] *= sx;\n        data[i++] += x; // cy\n\n        data[i] *= sy;\n        data[i++] += y; // Scale rx and ry\n        // FIXME Assume psi is 0 here\n\n        data[i++] *= sx;\n        data[i++] *= sy; // Start angle\n\n        data[i++] += angle; // end angle\n\n        data[i++] += angle; // FIXME psi\n\n        i += 2;\n        j = i;\n        break;\n      case R:\n        // x0, y0\n        p[0] = data[i++];\n        p[1] = data[i++];\n        v2ApplyTransform(p, p, m);\n        data[j++] = p[0];\n        data[j++] = p[1]; // x1, y1\n\n        p[0] += data[i++];\n        p[1] += data[i++];\n        v2ApplyTransform(p, p, m);\n        data[j++] = p[0];\n        data[j++] = p[1];\n    }\n    for (k = 0; k < nPoint; k++) {\n      var p = points[k];\n      p[0] = data[i++];\n      p[1] = data[i++];\n      v2ApplyTransform(p, p, m); // Write back\n\n      data[j++] = p[0];\n      data[j++] = p[1];\n    }\n  }\n}\nmodule.exports = _default;","map":{"version":3,"names":["PathProxy","require","_vector","v2ApplyTransform","applyTransform","CMD","points","mathSqrt","Math","sqrt","mathAtan2","atan2","_default","path","m","data","cmd","nPoint","i","j","k","p","M","C","L","R","A","Q","length","x","y","sx","sy","angle","module","exports"],"sources":["/Users/zoyazhou/workspace/vscodeProjects/ccc_assign2/node_modules/zrender/lib/tool/transformPath.js"],"sourcesContent":["var PathProxy = require(\"../core/PathProxy\");\n\nvar _vector = require(\"../core/vector\");\n\nvar v2ApplyTransform = _vector.applyTransform;\nvar CMD = PathProxy.CMD;\nvar points = [[], [], []];\nvar mathSqrt = Math.sqrt;\nvar mathAtan2 = Math.atan2;\n\nfunction _default(path, m) {\n  var data = path.data;\n  var cmd;\n  var nPoint;\n  var i;\n  var j;\n  var k;\n  var p;\n  var M = CMD.M;\n  var C = CMD.C;\n  var L = CMD.L;\n  var R = CMD.R;\n  var A = CMD.A;\n  var Q = CMD.Q;\n\n  for (i = 0, j = 0; i < data.length;) {\n    cmd = data[i++];\n    j = i;\n    nPoint = 0;\n\n    switch (cmd) {\n      case M:\n        nPoint = 1;\n        break;\n\n      case L:\n        nPoint = 1;\n        break;\n\n      case C:\n        nPoint = 3;\n        break;\n\n      case Q:\n        nPoint = 2;\n        break;\n\n      case A:\n        var x = m[4];\n        var y = m[5];\n        var sx = mathSqrt(m[0] * m[0] + m[1] * m[1]);\n        var sy = mathSqrt(m[2] * m[2] + m[3] * m[3]);\n        var angle = mathAtan2(-m[1] / sy, m[0] / sx); // cx\n\n        data[i] *= sx;\n        data[i++] += x; // cy\n\n        data[i] *= sy;\n        data[i++] += y; // Scale rx and ry\n        // FIXME Assume psi is 0 here\n\n        data[i++] *= sx;\n        data[i++] *= sy; // Start angle\n\n        data[i++] += angle; // end angle\n\n        data[i++] += angle; // FIXME psi\n\n        i += 2;\n        j = i;\n        break;\n\n      case R:\n        // x0, y0\n        p[0] = data[i++];\n        p[1] = data[i++];\n        v2ApplyTransform(p, p, m);\n        data[j++] = p[0];\n        data[j++] = p[1]; // x1, y1\n\n        p[0] += data[i++];\n        p[1] += data[i++];\n        v2ApplyTransform(p, p, m);\n        data[j++] = p[0];\n        data[j++] = p[1];\n    }\n\n    for (k = 0; k < nPoint; k++) {\n      var p = points[k];\n      p[0] = data[i++];\n      p[1] = data[i++];\n      v2ApplyTransform(p, p, m); // Write back\n\n      data[j++] = p[0];\n      data[j++] = p[1];\n    }\n  }\n}\n\nmodule.exports = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}