{"ast":null,"code":"require(\"core-js/modules/es.array.slice.js\");\nrequire(\"core-js/modules/es.array.push.js\");\nrequire(\"core-js/modules/es.function.name.js\");\nrequire(\"core-js/modules/es.array.concat.js\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _util = require(\"zrender/lib/core/util\");\nvar each = _util.each;\nvar createHashMap = _util.createHashMap;\nvar assert = _util.assert;\nvar _config = require(\"../../config\");\nvar __DEV__ = _config.__DEV__;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar OTHER_DIMENSIONS = createHashMap(['tooltip', 'label', 'itemName', 'itemId', 'seriesName']);\nfunction summarizeDimensions(data) {\n  var summary = {};\n  var encode = summary.encode = {};\n  var notExtraCoordDimMap = createHashMap();\n  var defaultedLabel = [];\n  var defaultedTooltip = []; // See the comment of `List.js#userOutput`.\n\n  var userOutput = summary.userOutput = {\n    dimensionNames: data.dimensions.slice(),\n    encode: {}\n  };\n  each(data.dimensions, function (dimName) {\n    var dimItem = data.getDimensionInfo(dimName);\n    var coordDim = dimItem.coordDim;\n    if (coordDim) {\n      var coordDimIndex = dimItem.coordDimIndex;\n      getOrCreateEncodeArr(encode, coordDim)[coordDimIndex] = dimName;\n      if (!dimItem.isExtraCoord) {\n        notExtraCoordDimMap.set(coordDim, 1); // Use the last coord dim (and label friendly) as default label,\n        // because when dataset is used, it is hard to guess which dimension\n        // can be value dimension. If both show x, y on label is not look good,\n        // and conventionally y axis is focused more.\n\n        if (mayLabelDimType(dimItem.type)) {\n          defaultedLabel[0] = dimName;\n        } // User output encode do not contain generated coords.\n        // And it only has index. User can use index to retrieve value from the raw item array.\n\n        getOrCreateEncodeArr(userOutput.encode, coordDim)[coordDimIndex] = dimItem.index;\n      }\n      if (dimItem.defaultTooltip) {\n        defaultedTooltip.push(dimName);\n      }\n    }\n    OTHER_DIMENSIONS.each(function (v, otherDim) {\n      var encodeArr = getOrCreateEncodeArr(encode, otherDim);\n      var dimIndex = dimItem.otherDims[otherDim];\n      if (dimIndex != null && dimIndex !== false) {\n        encodeArr[dimIndex] = dimItem.name;\n      }\n    });\n  });\n  var dataDimsOnCoord = [];\n  var encodeFirstDimNotExtra = {};\n  notExtraCoordDimMap.each(function (v, coordDim) {\n    var dimArr = encode[coordDim]; // ??? FIXME extra coord should not be set in dataDimsOnCoord.\n    // But should fix the case that radar axes: simplify the logic\n    // of `completeDimension`, remove `extraPrefix`.\n\n    encodeFirstDimNotExtra[coordDim] = dimArr[0]; // Not necessary to remove duplicate, because a data\n    // dim canot on more than one coordDim.\n\n    dataDimsOnCoord = dataDimsOnCoord.concat(dimArr);\n  });\n  summary.dataDimsOnCoord = dataDimsOnCoord;\n  summary.encodeFirstDimNotExtra = encodeFirstDimNotExtra;\n  var encodeLabel = encode.label; // FIXME `encode.label` is not recommanded, because formatter can not be set\n  // in this way. Use label.formatter instead. May be remove this approach someday.\n\n  if (encodeLabel && encodeLabel.length) {\n    defaultedLabel = encodeLabel.slice();\n  }\n  var encodeTooltip = encode.tooltip;\n  if (encodeTooltip && encodeTooltip.length) {\n    defaultedTooltip = encodeTooltip.slice();\n  } else if (!defaultedTooltip.length) {\n    defaultedTooltip = defaultedLabel.slice();\n  }\n  encode.defaultedLabel = defaultedLabel;\n  encode.defaultedTooltip = defaultedTooltip;\n  return summary;\n}\nfunction getOrCreateEncodeArr(encode, dim) {\n  if (!encode.hasOwnProperty(dim)) {\n    encode[dim] = [];\n  }\n  return encode[dim];\n}\nfunction getDimensionTypeByAxis(axisType) {\n  return axisType === 'category' ? 'ordinal' : axisType === 'time' ? 'time' : 'float';\n}\nfunction mayLabelDimType(dimType) {\n  // In most cases, ordinal and time do not suitable for label.\n  // Ordinal info can be displayed on axis. Time is too long.\n  return !(dimType === 'ordinal' || dimType === 'time');\n} // function findTheLastDimMayLabel(data) {\n//     // Get last value dim\n//     var dimensions = data.dimensions.slice();\n//     var valueType;\n//     var valueDim;\n//     while (dimensions.length && (\n//         valueDim = dimensions.pop(),\n//         valueType = data.getDimensionInfo(valueDim).type,\n//         valueType === 'ordinal' || valueType === 'time'\n//     )) {} // jshint ignore:line\n//     return valueDim;\n// }\n\nexports.OTHER_DIMENSIONS = OTHER_DIMENSIONS;\nexports.summarizeDimensions = summarizeDimensions;\nexports.getDimensionTypeByAxis = getDimensionTypeByAxis;","map":{"version":3,"names":["_util","require","each","createHashMap","assert","_config","__DEV__","OTHER_DIMENSIONS","summarizeDimensions","data","summary","encode","notExtraCoordDimMap","defaultedLabel","defaultedTooltip","userOutput","dimensionNames","dimensions","slice","dimName","dimItem","getDimensionInfo","coordDim","coordDimIndex","getOrCreateEncodeArr","isExtraCoord","set","mayLabelDimType","type","index","defaultTooltip","push","v","otherDim","encodeArr","dimIndex","otherDims","name","dataDimsOnCoord","encodeFirstDimNotExtra","dimArr","concat","encodeLabel","label","length","encodeTooltip","tooltip","dim","hasOwnProperty","getDimensionTypeByAxis","axisType","dimType","exports"],"sources":["/Users/zoyazhou/workspace/vscodeProjects/ccc/COMP90024-23S1-A2-Australia-Social-Media-Analytics/src/frontend/node_modules/echarts/lib/data/helper/dimensionHelper.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar each = _util.each;\nvar createHashMap = _util.createHashMap;\nvar assert = _util.assert;\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar OTHER_DIMENSIONS = createHashMap(['tooltip', 'label', 'itemName', 'itemId', 'seriesName']);\n\nfunction summarizeDimensions(data) {\n  var summary = {};\n  var encode = summary.encode = {};\n  var notExtraCoordDimMap = createHashMap();\n  var defaultedLabel = [];\n  var defaultedTooltip = []; // See the comment of `List.js#userOutput`.\n\n  var userOutput = summary.userOutput = {\n    dimensionNames: data.dimensions.slice(),\n    encode: {}\n  };\n  each(data.dimensions, function (dimName) {\n    var dimItem = data.getDimensionInfo(dimName);\n    var coordDim = dimItem.coordDim;\n\n    if (coordDim) {\n      var coordDimIndex = dimItem.coordDimIndex;\n      getOrCreateEncodeArr(encode, coordDim)[coordDimIndex] = dimName;\n\n      if (!dimItem.isExtraCoord) {\n        notExtraCoordDimMap.set(coordDim, 1); // Use the last coord dim (and label friendly) as default label,\n        // because when dataset is used, it is hard to guess which dimension\n        // can be value dimension. If both show x, y on label is not look good,\n        // and conventionally y axis is focused more.\n\n        if (mayLabelDimType(dimItem.type)) {\n          defaultedLabel[0] = dimName;\n        } // User output encode do not contain generated coords.\n        // And it only has index. User can use index to retrieve value from the raw item array.\n\n\n        getOrCreateEncodeArr(userOutput.encode, coordDim)[coordDimIndex] = dimItem.index;\n      }\n\n      if (dimItem.defaultTooltip) {\n        defaultedTooltip.push(dimName);\n      }\n    }\n\n    OTHER_DIMENSIONS.each(function (v, otherDim) {\n      var encodeArr = getOrCreateEncodeArr(encode, otherDim);\n      var dimIndex = dimItem.otherDims[otherDim];\n\n      if (dimIndex != null && dimIndex !== false) {\n        encodeArr[dimIndex] = dimItem.name;\n      }\n    });\n  });\n  var dataDimsOnCoord = [];\n  var encodeFirstDimNotExtra = {};\n  notExtraCoordDimMap.each(function (v, coordDim) {\n    var dimArr = encode[coordDim]; // ??? FIXME extra coord should not be set in dataDimsOnCoord.\n    // But should fix the case that radar axes: simplify the logic\n    // of `completeDimension`, remove `extraPrefix`.\n\n    encodeFirstDimNotExtra[coordDim] = dimArr[0]; // Not necessary to remove duplicate, because a data\n    // dim canot on more than one coordDim.\n\n    dataDimsOnCoord = dataDimsOnCoord.concat(dimArr);\n  });\n  summary.dataDimsOnCoord = dataDimsOnCoord;\n  summary.encodeFirstDimNotExtra = encodeFirstDimNotExtra;\n  var encodeLabel = encode.label; // FIXME `encode.label` is not recommanded, because formatter can not be set\n  // in this way. Use label.formatter instead. May be remove this approach someday.\n\n  if (encodeLabel && encodeLabel.length) {\n    defaultedLabel = encodeLabel.slice();\n  }\n\n  var encodeTooltip = encode.tooltip;\n\n  if (encodeTooltip && encodeTooltip.length) {\n    defaultedTooltip = encodeTooltip.slice();\n  } else if (!defaultedTooltip.length) {\n    defaultedTooltip = defaultedLabel.slice();\n  }\n\n  encode.defaultedLabel = defaultedLabel;\n  encode.defaultedTooltip = defaultedTooltip;\n  return summary;\n}\n\nfunction getOrCreateEncodeArr(encode, dim) {\n  if (!encode.hasOwnProperty(dim)) {\n    encode[dim] = [];\n  }\n\n  return encode[dim];\n}\n\nfunction getDimensionTypeByAxis(axisType) {\n  return axisType === 'category' ? 'ordinal' : axisType === 'time' ? 'time' : 'float';\n}\n\nfunction mayLabelDimType(dimType) {\n  // In most cases, ordinal and time do not suitable for label.\n  // Ordinal info can be displayed on axis. Time is too long.\n  return !(dimType === 'ordinal' || dimType === 'time');\n} // function findTheLastDimMayLabel(data) {\n//     // Get last value dim\n//     var dimensions = data.dimensions.slice();\n//     var valueType;\n//     var valueDim;\n//     while (dimensions.length && (\n//         valueDim = dimensions.pop(),\n//         valueType = data.getDimensionInfo(valueDim).type,\n//         valueType === 'ordinal' || valueType === 'time'\n//     )) {} // jshint ignore:line\n//     return valueDim;\n// }\n\n\nexports.OTHER_DIMENSIONS = OTHER_DIMENSIONS;\nexports.summarizeDimensions = summarizeDimensions;\nexports.getDimensionTypeByAxis = getDimensionTypeByAxis;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}