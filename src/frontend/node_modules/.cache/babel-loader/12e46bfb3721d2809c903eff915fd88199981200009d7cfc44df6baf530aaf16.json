{"ast":null,"code":"require(\"core-js/modules/es.array.push.js\");\nvar _util = require(\"../core/util\");\nvar inherits = _util.inherits;\nvar Displayble = require(\"./Displayable\");\nvar BoundingRect = require(\"../core/BoundingRect\");\n\n/**\n * Displayable for incremental rendering. It will be rendered in a separate layer\n * IncrementalDisplay have two main methods. `clearDisplayables` and `addDisplayables`\n * addDisplayables will render the added displayables incremetally.\n *\n * It use a not clearFlag to tell the painter don't clear the layer if it's the first element.\n */\n// TODO Style override ?\nfunction IncrementalDisplayble(opts) {\n  Displayble.call(this, opts);\n  this._displayables = [];\n  this._temporaryDisplayables = [];\n  this._cursor = 0;\n  this.notClear = true;\n}\nIncrementalDisplayble.prototype.incremental = true;\nIncrementalDisplayble.prototype.clearDisplaybles = function () {\n  this._displayables = [];\n  this._temporaryDisplayables = [];\n  this._cursor = 0;\n  this.dirty();\n  this.notClear = false;\n};\nIncrementalDisplayble.prototype.addDisplayable = function (displayable, notPersistent) {\n  if (notPersistent) {\n    this._temporaryDisplayables.push(displayable);\n  } else {\n    this._displayables.push(displayable);\n  }\n  this.dirty();\n};\nIncrementalDisplayble.prototype.addDisplayables = function (displayables, notPersistent) {\n  notPersistent = notPersistent || false;\n  for (var i = 0; i < displayables.length; i++) {\n    this.addDisplayable(displayables[i], notPersistent);\n  }\n};\nIncrementalDisplayble.prototype.eachPendingDisplayable = function (cb) {\n  for (var i = this._cursor; i < this._displayables.length; i++) {\n    cb && cb(this._displayables[i]);\n  }\n  for (var i = 0; i < this._temporaryDisplayables.length; i++) {\n    cb && cb(this._temporaryDisplayables[i]);\n  }\n};\nIncrementalDisplayble.prototype.update = function () {\n  this.updateTransform();\n  for (var i = this._cursor; i < this._displayables.length; i++) {\n    var displayable = this._displayables[i]; // PENDING\n\n    displayable.parent = this;\n    displayable.update();\n    displayable.parent = null;\n  }\n  for (var i = 0; i < this._temporaryDisplayables.length; i++) {\n    var displayable = this._temporaryDisplayables[i]; // PENDING\n\n    displayable.parent = this;\n    displayable.update();\n    displayable.parent = null;\n  }\n};\nIncrementalDisplayble.prototype.brush = function (ctx, prevEl) {\n  // Render persistant displayables.\n  for (var i = this._cursor; i < this._displayables.length; i++) {\n    var displayable = this._displayables[i];\n    displayable.beforeBrush && displayable.beforeBrush(ctx);\n    displayable.brush(ctx, i === this._cursor ? null : this._displayables[i - 1]);\n    displayable.afterBrush && displayable.afterBrush(ctx);\n  }\n  this._cursor = i; // Render temporary displayables.\n\n  for (var i = 0; i < this._temporaryDisplayables.length; i++) {\n    var displayable = this._temporaryDisplayables[i];\n    displayable.beforeBrush && displayable.beforeBrush(ctx);\n    displayable.brush(ctx, i === 0 ? null : this._temporaryDisplayables[i - 1]);\n    displayable.afterBrush && displayable.afterBrush(ctx);\n  }\n  this._temporaryDisplayables = [];\n  this.notClear = true;\n};\nvar m = [];\nIncrementalDisplayble.prototype.getBoundingRect = function () {\n  if (!this._rect) {\n    var rect = new BoundingRect(Infinity, Infinity, -Infinity, -Infinity);\n    for (var i = 0; i < this._displayables.length; i++) {\n      var displayable = this._displayables[i];\n      var childRect = displayable.getBoundingRect().clone();\n      if (displayable.needLocalTransform()) {\n        childRect.applyTransform(displayable.getLocalTransform(m));\n      }\n      rect.union(childRect);\n    }\n    this._rect = rect;\n  }\n  return this._rect;\n};\nIncrementalDisplayble.prototype.contain = function (x, y) {\n  var localPos = this.transformCoordToLocal(x, y);\n  var rect = this.getBoundingRect();\n  if (rect.contain(localPos[0], localPos[1])) {\n    for (var i = 0; i < this._displayables.length; i++) {\n      var displayable = this._displayables[i];\n      if (displayable.contain(x, y)) {\n        return true;\n      }\n    }\n  }\n  return false;\n};\ninherits(IncrementalDisplayble, Displayble);\nvar _default = IncrementalDisplayble;\nmodule.exports = _default;","map":{"version":3,"names":["_util","require","inherits","Displayble","BoundingRect","IncrementalDisplayble","opts","call","_displayables","_temporaryDisplayables","_cursor","notClear","prototype","incremental","clearDisplaybles","dirty","addDisplayable","displayable","notPersistent","push","addDisplayables","displayables","i","length","eachPendingDisplayable","cb","update","updateTransform","parent","brush","ctx","prevEl","beforeBrush","afterBrush","m","getBoundingRect","_rect","rect","Infinity","childRect","clone","needLocalTransform","applyTransform","getLocalTransform","union","contain","x","y","localPos","transformCoordToLocal","_default","module","exports"],"sources":["/Users/zoyazhou/workspace/vscodeProjects/ccc_assign2/node_modules/zrender/lib/graphic/IncrementalDisplayable.js"],"sourcesContent":["var _util = require(\"../core/util\");\n\nvar inherits = _util.inherits;\n\nvar Displayble = require(\"./Displayable\");\n\nvar BoundingRect = require(\"../core/BoundingRect\");\n\n/**\n * Displayable for incremental rendering. It will be rendered in a separate layer\n * IncrementalDisplay have two main methods. `clearDisplayables` and `addDisplayables`\n * addDisplayables will render the added displayables incremetally.\n *\n * It use a not clearFlag to tell the painter don't clear the layer if it's the first element.\n */\n// TODO Style override ?\nfunction IncrementalDisplayble(opts) {\n  Displayble.call(this, opts);\n  this._displayables = [];\n  this._temporaryDisplayables = [];\n  this._cursor = 0;\n  this.notClear = true;\n}\n\nIncrementalDisplayble.prototype.incremental = true;\n\nIncrementalDisplayble.prototype.clearDisplaybles = function () {\n  this._displayables = [];\n  this._temporaryDisplayables = [];\n  this._cursor = 0;\n  this.dirty();\n  this.notClear = false;\n};\n\nIncrementalDisplayble.prototype.addDisplayable = function (displayable, notPersistent) {\n  if (notPersistent) {\n    this._temporaryDisplayables.push(displayable);\n  } else {\n    this._displayables.push(displayable);\n  }\n\n  this.dirty();\n};\n\nIncrementalDisplayble.prototype.addDisplayables = function (displayables, notPersistent) {\n  notPersistent = notPersistent || false;\n\n  for (var i = 0; i < displayables.length; i++) {\n    this.addDisplayable(displayables[i], notPersistent);\n  }\n};\n\nIncrementalDisplayble.prototype.eachPendingDisplayable = function (cb) {\n  for (var i = this._cursor; i < this._displayables.length; i++) {\n    cb && cb(this._displayables[i]);\n  }\n\n  for (var i = 0; i < this._temporaryDisplayables.length; i++) {\n    cb && cb(this._temporaryDisplayables[i]);\n  }\n};\n\nIncrementalDisplayble.prototype.update = function () {\n  this.updateTransform();\n\n  for (var i = this._cursor; i < this._displayables.length; i++) {\n    var displayable = this._displayables[i]; // PENDING\n\n    displayable.parent = this;\n    displayable.update();\n    displayable.parent = null;\n  }\n\n  for (var i = 0; i < this._temporaryDisplayables.length; i++) {\n    var displayable = this._temporaryDisplayables[i]; // PENDING\n\n    displayable.parent = this;\n    displayable.update();\n    displayable.parent = null;\n  }\n};\n\nIncrementalDisplayble.prototype.brush = function (ctx, prevEl) {\n  // Render persistant displayables.\n  for (var i = this._cursor; i < this._displayables.length; i++) {\n    var displayable = this._displayables[i];\n    displayable.beforeBrush && displayable.beforeBrush(ctx);\n    displayable.brush(ctx, i === this._cursor ? null : this._displayables[i - 1]);\n    displayable.afterBrush && displayable.afterBrush(ctx);\n  }\n\n  this._cursor = i; // Render temporary displayables.\n\n  for (var i = 0; i < this._temporaryDisplayables.length; i++) {\n    var displayable = this._temporaryDisplayables[i];\n    displayable.beforeBrush && displayable.beforeBrush(ctx);\n    displayable.brush(ctx, i === 0 ? null : this._temporaryDisplayables[i - 1]);\n    displayable.afterBrush && displayable.afterBrush(ctx);\n  }\n\n  this._temporaryDisplayables = [];\n  this.notClear = true;\n};\n\nvar m = [];\n\nIncrementalDisplayble.prototype.getBoundingRect = function () {\n  if (!this._rect) {\n    var rect = new BoundingRect(Infinity, Infinity, -Infinity, -Infinity);\n\n    for (var i = 0; i < this._displayables.length; i++) {\n      var displayable = this._displayables[i];\n      var childRect = displayable.getBoundingRect().clone();\n\n      if (displayable.needLocalTransform()) {\n        childRect.applyTransform(displayable.getLocalTransform(m));\n      }\n\n      rect.union(childRect);\n    }\n\n    this._rect = rect;\n  }\n\n  return this._rect;\n};\n\nIncrementalDisplayble.prototype.contain = function (x, y) {\n  var localPos = this.transformCoordToLocal(x, y);\n  var rect = this.getBoundingRect();\n\n  if (rect.contain(localPos[0], localPos[1])) {\n    for (var i = 0; i < this._displayables.length; i++) {\n      var displayable = this._displayables[i];\n\n      if (displayable.contain(x, y)) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n};\n\ninherits(IncrementalDisplayble, Displayble);\nvar _default = IncrementalDisplayble;\nmodule.exports = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}