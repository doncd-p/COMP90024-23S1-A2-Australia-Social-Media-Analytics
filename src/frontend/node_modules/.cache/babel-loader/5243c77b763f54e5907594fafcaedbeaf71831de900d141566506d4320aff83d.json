{"ast":null,"code":"require(\"core-js/modules/es.function.name.js\");\nrequire(\"core-js/modules/es.array.map.js\");\nrequire(\"core-js/modules/es.array.slice.js\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\nvar SeriesModel = require(\"../../model/Series\");\nvar Tree = require(\"../../data/Tree\");\nvar Model = require(\"../../model/Model\");\nvar _format = require(\"../../util/format\");\nvar encodeHTML = _format.encodeHTML;\nvar addCommas = _format.addCommas;\nvar _treeHelper = require(\"../helper/treeHelper\");\nvar wrapTreePathInfo = _treeHelper.wrapTreePathInfo;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = SeriesModel.extend({\n  type: 'series.treemap',\n  layoutMode: 'box',\n  dependencies: ['grid', 'polar'],\n  preventUsingHoverLayer: true,\n  /**\n   * @type {module:echarts/data/Tree~Node}\n   */\n  _viewRoot: null,\n  defaultOption: {\n    // Disable progressive rendering\n    progressive: 0,\n    // center: ['50%', '50%'],          // not supported in ec3.\n    // size: ['80%', '80%'],            // deprecated, compatible with ec2.\n    left: 'center',\n    top: 'middle',\n    right: null,\n    bottom: null,\n    width: '80%',\n    height: '80%',\n    sort: true,\n    // Can be null or false or true\n    // (order by desc default, asc not supported yet (strange effect))\n    clipWindow: 'origin',\n    // Size of clipped window when zooming. 'origin' or 'fullscreen'\n    squareRatio: 0.5 * (1 + Math.sqrt(5)),\n    // golden ratio\n    leafDepth: null,\n    // Nodes on depth from root are regarded as leaves.\n    // Count from zero (zero represents only view root).\n    drillDownIcon: '▶',\n    // Use html character temporarily because it is complicated\n    // to align specialized icon. ▷▶❒❐▼✚\n    zoomToNodeRatio: 0.32 * 0.32,\n    // Be effective when using zoomToNode. Specify the proportion of the\n    // target node area in the view area.\n    roam: true,\n    // true, false, 'scale' or 'zoom', 'move'.\n    nodeClick: 'zoomToNode',\n    // Leaf node click behaviour: 'zoomToNode', 'link', false.\n    // If leafDepth is set and clicking a node which has children but\n    // be on left depth, the behaviour would be changing root. Otherwise\n    // use behavious defined above.\n    animation: true,\n    animationDurationUpdate: 900,\n    animationEasing: 'quinticInOut',\n    breadcrumb: {\n      show: true,\n      height: 22,\n      left: 'center',\n      top: 'bottom',\n      // right\n      // bottom\n      emptyItemWidth: 25,\n      // Width of empty node.\n      itemStyle: {\n        color: 'rgba(0,0,0,0.7)',\n        //'#5793f3',\n        borderColor: 'rgba(255,255,255,0.7)',\n        borderWidth: 1,\n        shadowColor: 'rgba(150,150,150,1)',\n        shadowBlur: 3,\n        shadowOffsetX: 0,\n        shadowOffsetY: 0,\n        textStyle: {\n          color: '#fff'\n        }\n      },\n      emphasis: {\n        textStyle: {}\n      }\n    },\n    label: {\n      show: true,\n      // Do not use textDistance, for ellipsis rect just the same as treemap node rect.\n      distance: 0,\n      padding: 5,\n      position: 'inside',\n      // Can be [5, '5%'] or position stirng like 'insideTopLeft', ...\n      // formatter: null,\n      color: '#fff',\n      ellipsis: true // align\n      // verticalAlign\n    },\n\n    upperLabel: {\n      // Label when node is parent.\n      show: false,\n      position: [0, '50%'],\n      height: 20,\n      // formatter: null,\n      color: '#fff',\n      ellipsis: true,\n      // align: null,\n      verticalAlign: 'middle'\n    },\n    itemStyle: {\n      color: null,\n      // Can be 'none' if not necessary.\n      colorAlpha: null,\n      // Can be 'none' if not necessary.\n      colorSaturation: null,\n      // Can be 'none' if not necessary.\n      borderWidth: 0,\n      gapWidth: 0,\n      borderColor: '#fff',\n      borderColorSaturation: null // If specified, borderColor will be ineffective, and the\n      // border color is evaluated by color of current node and\n      // borderColorSaturation.\n    },\n\n    emphasis: {\n      upperLabel: {\n        show: true,\n        position: [0, '50%'],\n        color: '#fff',\n        ellipsis: true,\n        verticalAlign: 'middle'\n      }\n    },\n    visualDimension: 0,\n    // Can be 0, 1, 2, 3.\n    visualMin: null,\n    visualMax: null,\n    color: [],\n    // + treemapSeries.color should not be modified. Please only modified\n    // level[n].color (if necessary).\n    // + Specify color list of each level. level[0].color would be global\n    // color list if not specified. (see method `setDefault`).\n    // + But set as a empty array to forbid fetch color from global palette\n    // when using nodeModel.get('color'), otherwise nodes on deep level\n    // will always has color palette set and are not able to inherit color\n    // from parent node.\n    // + TreemapSeries.color can not be set as 'none', otherwise effect\n    // legend color fetching (see seriesColor.js).\n    colorAlpha: null,\n    // Array. Specify color alpha range of each level, like [0.2, 0.8]\n    colorSaturation: null,\n    // Array. Specify color saturation of each level, like [0.2, 0.5]\n    colorMappingBy: 'index',\n    // 'value' or 'index' or 'id'.\n    visibleMin: 10,\n    // If area less than this threshold (unit: pixel^2), node will not\n    // be rendered. Only works when sort is 'asc' or 'desc'.\n    childrenVisibleMin: null,\n    // If area of a node less than this threshold (unit: pixel^2),\n    // grandchildren will not show.\n    // Why grandchildren? If not grandchildren but children,\n    // some siblings show children and some not,\n    // the appearance may be mess and not consistent,\n    levels: [] // Each item: {\n    //     visibleMin, itemStyle, visualDimension, label\n    // }\n    // data: {\n    //      value: [],\n    //      children: [],\n    //      link: 'http://xxx.xxx.xxx',\n    //      target: 'blank' or 'self'\n    // }\n  },\n\n  /**\n   * @override\n   */\n  getInitialData: function getInitialData(option, ecModel) {\n    // Create a virtual root.\n    var root = {\n      name: option.name,\n      children: option.data\n    };\n    completeTreeValue(root);\n    var levels = option.levels || []; // Used in \"visual priority\" in `treemapVisual.js`.\n    // This way is a little tricky, must satisfy the precondition:\n    //   1. There is no `treeNode.getModel('itemStyle.xxx')` used.\n    //   2. The `Model.prototype.getModel()` will not use any clone-like way.\n\n    var designatedVisualItemStyle = this.designatedVisualItemStyle = {};\n    var designatedVisualModel = new Model({\n      itemStyle: designatedVisualItemStyle\n    }, this, ecModel);\n    levels = option.levels = setDefault(levels, ecModel);\n    var levelModels = zrUtil.map(levels || [], function (levelDefine) {\n      return new Model(levelDefine, designatedVisualModel, ecModel);\n    }, this); // Make sure always a new tree is created when setOption,\n    // in TreemapView, we check whether oldTree === newTree\n    // to choose mappings approach among old shapes and new shapes.\n\n    var tree = Tree.createTree(root, this, beforeLink);\n    function beforeLink(nodeData) {\n      nodeData.wrapMethod('getItemModel', function (model, idx) {\n        var node = tree.getNodeByDataIndex(idx);\n        var levelModel = levelModels[node.depth]; // If no levelModel, we also need `designatedVisualModel`.\n\n        model.parentModel = levelModel || designatedVisualModel;\n        return model;\n      });\n    }\n    return tree.data;\n  },\n  optionUpdated: function optionUpdated() {\n    this.resetViewRoot();\n  },\n  /**\n   * @override\n   * @param {number} dataIndex\n   * @param {boolean} [mutipleSeries=false]\n   */\n  formatTooltip: function formatTooltip(dataIndex) {\n    var data = this.getData();\n    var value = this.getRawValue(dataIndex);\n    var formattedValue = zrUtil.isArray(value) ? addCommas(value[0]) : addCommas(value);\n    var name = data.getName(dataIndex);\n    return encodeHTML(name + ': ' + formattedValue);\n  },\n  /**\n   * Add tree path to tooltip param\n   *\n   * @override\n   * @param {number} dataIndex\n   * @return {Object}\n   */\n  getDataParams: function getDataParams(dataIndex) {\n    var params = SeriesModel.prototype.getDataParams.apply(this, arguments);\n    var node = this.getData().tree.getNodeByDataIndex(dataIndex);\n    params.treePathInfo = wrapTreePathInfo(node, this);\n    return params;\n  },\n  /**\n   * @public\n   * @param {Object} layoutInfo {\n   *                                x: containerGroup x\n   *                                y: containerGroup y\n   *                                width: containerGroup width\n   *                                height: containerGroup height\n   *                            }\n   */\n  setLayoutInfo: function setLayoutInfo(layoutInfo) {\n    /**\n     * @readOnly\n     * @type {Object}\n     */\n    this.layoutInfo = this.layoutInfo || {};\n    zrUtil.extend(this.layoutInfo, layoutInfo);\n  },\n  /**\n   * @param  {string} id\n   * @return {number} index\n   */\n  mapIdToIndex: function mapIdToIndex(id) {\n    // A feature is implemented:\n    // index is monotone increasing with the sequence of\n    // input id at the first time.\n    // This feature can make sure that each data item and its\n    // mapped color have the same index between data list and\n    // color list at the beginning, which is useful for user\n    // to adjust data-color mapping.\n\n    /**\n     * @private\n     * @type {Object}\n     */\n    var idIndexMap = this._idIndexMap;\n    if (!idIndexMap) {\n      idIndexMap = this._idIndexMap = zrUtil.createHashMap();\n      /**\n       * @private\n       * @type {number}\n       */\n\n      this._idIndexMapCount = 0;\n    }\n    var index = idIndexMap.get(id);\n    if (index == null) {\n      idIndexMap.set(id, index = this._idIndexMapCount++);\n    }\n    return index;\n  },\n  getViewRoot: function getViewRoot() {\n    return this._viewRoot;\n  },\n  /**\n   * @param {module:echarts/data/Tree~Node} [viewRoot]\n   */\n  resetViewRoot: function resetViewRoot(viewRoot) {\n    viewRoot ? this._viewRoot = viewRoot : viewRoot = this._viewRoot;\n    var root = this.getRawData().tree.root;\n    if (!viewRoot || viewRoot !== root && !root.contains(viewRoot)) {\n      this._viewRoot = root;\n    }\n  }\n});\n/**\n * @param {Object} dataNode\n */\n\nfunction completeTreeValue(dataNode) {\n  // Postorder travel tree.\n  // If value of none-leaf node is not set,\n  // calculate it by suming up the value of all children.\n  var sum = 0;\n  zrUtil.each(dataNode.children, function (child) {\n    completeTreeValue(child);\n    var childValue = child.value;\n    zrUtil.isArray(childValue) && (childValue = childValue[0]);\n    sum += childValue;\n  });\n  var thisValue = dataNode.value;\n  if (zrUtil.isArray(thisValue)) {\n    thisValue = thisValue[0];\n  }\n  if (thisValue == null || isNaN(thisValue)) {\n    thisValue = sum;\n  } // Value should not less than 0.\n\n  if (thisValue < 0) {\n    thisValue = 0;\n  }\n  zrUtil.isArray(dataNode.value) ? dataNode.value[0] = thisValue : dataNode.value = thisValue;\n}\n/**\n * set default to level configuration\n */\n\nfunction setDefault(levels, ecModel) {\n  var globalColorList = ecModel.get('color');\n  if (!globalColorList) {\n    return;\n  }\n  levels = levels || [];\n  var hasColorDefine;\n  zrUtil.each(levels, function (levelDefine) {\n    var model = new Model(levelDefine);\n    var modelColor = model.get('color');\n    if (model.get('itemStyle.color') || modelColor && modelColor !== 'none') {\n      hasColorDefine = true;\n    }\n  });\n  if (!hasColorDefine) {\n    var level0 = levels[0] || (levels[0] = {});\n    level0.color = globalColorList.slice();\n  }\n  return levels;\n}\nmodule.exports = _default;","map":{"version":3,"names":["zrUtil","require","SeriesModel","Tree","Model","_format","encodeHTML","addCommas","_treeHelper","wrapTreePathInfo","_default","extend","type","layoutMode","dependencies","preventUsingHoverLayer","_viewRoot","defaultOption","progressive","left","top","right","bottom","width","height","sort","clipWindow","squareRatio","Math","sqrt","leafDepth","drillDownIcon","zoomToNodeRatio","roam","nodeClick","animation","animationDurationUpdate","animationEasing","breadcrumb","show","emptyItemWidth","itemStyle","color","borderColor","borderWidth","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textStyle","emphasis","label","distance","padding","position","ellipsis","upperLabel","verticalAlign","colorAlpha","colorSaturation","gapWidth","borderColorSaturation","visualDimension","visualMin","visualMax","colorMappingBy","visibleMin","childrenVisibleMin","levels","getInitialData","option","ecModel","root","name","children","data","completeTreeValue","designatedVisualItemStyle","designatedVisualModel","setDefault","levelModels","map","levelDefine","tree","createTree","beforeLink","nodeData","wrapMethod","model","idx","node","getNodeByDataIndex","levelModel","depth","parentModel","optionUpdated","resetViewRoot","formatTooltip","dataIndex","getData","value","getRawValue","formattedValue","isArray","getName","getDataParams","params","prototype","apply","arguments","treePathInfo","setLayoutInfo","layoutInfo","mapIdToIndex","id","idIndexMap","_idIndexMap","createHashMap","_idIndexMapCount","index","get","set","getViewRoot","viewRoot","getRawData","contains","dataNode","sum","each","child","childValue","thisValue","isNaN","globalColorList","hasColorDefine","modelColor","level0","slice","module","exports"],"sources":["/Users/zoyazhou/workspace/vscodeProjects/ccc/COMP90024-23S1-A2-Australia-Social-Media-Analytics/src/frontend/node_modules/echarts/lib/chart/treemap/TreemapSeries.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar SeriesModel = require(\"../../model/Series\");\n\nvar Tree = require(\"../../data/Tree\");\n\nvar Model = require(\"../../model/Model\");\n\nvar _format = require(\"../../util/format\");\n\nvar encodeHTML = _format.encodeHTML;\nvar addCommas = _format.addCommas;\n\nvar _treeHelper = require(\"../helper/treeHelper\");\n\nvar wrapTreePathInfo = _treeHelper.wrapTreePathInfo;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = SeriesModel.extend({\n  type: 'series.treemap',\n  layoutMode: 'box',\n  dependencies: ['grid', 'polar'],\n  preventUsingHoverLayer: true,\n\n  /**\n   * @type {module:echarts/data/Tree~Node}\n   */\n  _viewRoot: null,\n  defaultOption: {\n    // Disable progressive rendering\n    progressive: 0,\n    // center: ['50%', '50%'],          // not supported in ec3.\n    // size: ['80%', '80%'],            // deprecated, compatible with ec2.\n    left: 'center',\n    top: 'middle',\n    right: null,\n    bottom: null,\n    width: '80%',\n    height: '80%',\n    sort: true,\n    // Can be null or false or true\n    // (order by desc default, asc not supported yet (strange effect))\n    clipWindow: 'origin',\n    // Size of clipped window when zooming. 'origin' or 'fullscreen'\n    squareRatio: 0.5 * (1 + Math.sqrt(5)),\n    // golden ratio\n    leafDepth: null,\n    // Nodes on depth from root are regarded as leaves.\n    // Count from zero (zero represents only view root).\n    drillDownIcon: '▶',\n    // Use html character temporarily because it is complicated\n    // to align specialized icon. ▷▶❒❐▼✚\n    zoomToNodeRatio: 0.32 * 0.32,\n    // Be effective when using zoomToNode. Specify the proportion of the\n    // target node area in the view area.\n    roam: true,\n    // true, false, 'scale' or 'zoom', 'move'.\n    nodeClick: 'zoomToNode',\n    // Leaf node click behaviour: 'zoomToNode', 'link', false.\n    // If leafDepth is set and clicking a node which has children but\n    // be on left depth, the behaviour would be changing root. Otherwise\n    // use behavious defined above.\n    animation: true,\n    animationDurationUpdate: 900,\n    animationEasing: 'quinticInOut',\n    breadcrumb: {\n      show: true,\n      height: 22,\n      left: 'center',\n      top: 'bottom',\n      // right\n      // bottom\n      emptyItemWidth: 25,\n      // Width of empty node.\n      itemStyle: {\n        color: 'rgba(0,0,0,0.7)',\n        //'#5793f3',\n        borderColor: 'rgba(255,255,255,0.7)',\n        borderWidth: 1,\n        shadowColor: 'rgba(150,150,150,1)',\n        shadowBlur: 3,\n        shadowOffsetX: 0,\n        shadowOffsetY: 0,\n        textStyle: {\n          color: '#fff'\n        }\n      },\n      emphasis: {\n        textStyle: {}\n      }\n    },\n    label: {\n      show: true,\n      // Do not use textDistance, for ellipsis rect just the same as treemap node rect.\n      distance: 0,\n      padding: 5,\n      position: 'inside',\n      // Can be [5, '5%'] or position stirng like 'insideTopLeft', ...\n      // formatter: null,\n      color: '#fff',\n      ellipsis: true // align\n      // verticalAlign\n\n    },\n    upperLabel: {\n      // Label when node is parent.\n      show: false,\n      position: [0, '50%'],\n      height: 20,\n      // formatter: null,\n      color: '#fff',\n      ellipsis: true,\n      // align: null,\n      verticalAlign: 'middle'\n    },\n    itemStyle: {\n      color: null,\n      // Can be 'none' if not necessary.\n      colorAlpha: null,\n      // Can be 'none' if not necessary.\n      colorSaturation: null,\n      // Can be 'none' if not necessary.\n      borderWidth: 0,\n      gapWidth: 0,\n      borderColor: '#fff',\n      borderColorSaturation: null // If specified, borderColor will be ineffective, and the\n      // border color is evaluated by color of current node and\n      // borderColorSaturation.\n\n    },\n    emphasis: {\n      upperLabel: {\n        show: true,\n        position: [0, '50%'],\n        color: '#fff',\n        ellipsis: true,\n        verticalAlign: 'middle'\n      }\n    },\n    visualDimension: 0,\n    // Can be 0, 1, 2, 3.\n    visualMin: null,\n    visualMax: null,\n    color: [],\n    // + treemapSeries.color should not be modified. Please only modified\n    // level[n].color (if necessary).\n    // + Specify color list of each level. level[0].color would be global\n    // color list if not specified. (see method `setDefault`).\n    // + But set as a empty array to forbid fetch color from global palette\n    // when using nodeModel.get('color'), otherwise nodes on deep level\n    // will always has color palette set and are not able to inherit color\n    // from parent node.\n    // + TreemapSeries.color can not be set as 'none', otherwise effect\n    // legend color fetching (see seriesColor.js).\n    colorAlpha: null,\n    // Array. Specify color alpha range of each level, like [0.2, 0.8]\n    colorSaturation: null,\n    // Array. Specify color saturation of each level, like [0.2, 0.5]\n    colorMappingBy: 'index',\n    // 'value' or 'index' or 'id'.\n    visibleMin: 10,\n    // If area less than this threshold (unit: pixel^2), node will not\n    // be rendered. Only works when sort is 'asc' or 'desc'.\n    childrenVisibleMin: null,\n    // If area of a node less than this threshold (unit: pixel^2),\n    // grandchildren will not show.\n    // Why grandchildren? If not grandchildren but children,\n    // some siblings show children and some not,\n    // the appearance may be mess and not consistent,\n    levels: [] // Each item: {\n    //     visibleMin, itemStyle, visualDimension, label\n    // }\n    // data: {\n    //      value: [],\n    //      children: [],\n    //      link: 'http://xxx.xxx.xxx',\n    //      target: 'blank' or 'self'\n    // }\n\n  },\n\n  /**\n   * @override\n   */\n  getInitialData: function (option, ecModel) {\n    // Create a virtual root.\n    var root = {\n      name: option.name,\n      children: option.data\n    };\n    completeTreeValue(root);\n    var levels = option.levels || []; // Used in \"visual priority\" in `treemapVisual.js`.\n    // This way is a little tricky, must satisfy the precondition:\n    //   1. There is no `treeNode.getModel('itemStyle.xxx')` used.\n    //   2. The `Model.prototype.getModel()` will not use any clone-like way.\n\n    var designatedVisualItemStyle = this.designatedVisualItemStyle = {};\n    var designatedVisualModel = new Model({\n      itemStyle: designatedVisualItemStyle\n    }, this, ecModel);\n    levels = option.levels = setDefault(levels, ecModel);\n    var levelModels = zrUtil.map(levels || [], function (levelDefine) {\n      return new Model(levelDefine, designatedVisualModel, ecModel);\n    }, this); // Make sure always a new tree is created when setOption,\n    // in TreemapView, we check whether oldTree === newTree\n    // to choose mappings approach among old shapes and new shapes.\n\n    var tree = Tree.createTree(root, this, beforeLink);\n\n    function beforeLink(nodeData) {\n      nodeData.wrapMethod('getItemModel', function (model, idx) {\n        var node = tree.getNodeByDataIndex(idx);\n        var levelModel = levelModels[node.depth]; // If no levelModel, we also need `designatedVisualModel`.\n\n        model.parentModel = levelModel || designatedVisualModel;\n        return model;\n      });\n    }\n\n    return tree.data;\n  },\n  optionUpdated: function () {\n    this.resetViewRoot();\n  },\n\n  /**\n   * @override\n   * @param {number} dataIndex\n   * @param {boolean} [mutipleSeries=false]\n   */\n  formatTooltip: function (dataIndex) {\n    var data = this.getData();\n    var value = this.getRawValue(dataIndex);\n    var formattedValue = zrUtil.isArray(value) ? addCommas(value[0]) : addCommas(value);\n    var name = data.getName(dataIndex);\n    return encodeHTML(name + ': ' + formattedValue);\n  },\n\n  /**\n   * Add tree path to tooltip param\n   *\n   * @override\n   * @param {number} dataIndex\n   * @return {Object}\n   */\n  getDataParams: function (dataIndex) {\n    var params = SeriesModel.prototype.getDataParams.apply(this, arguments);\n    var node = this.getData().tree.getNodeByDataIndex(dataIndex);\n    params.treePathInfo = wrapTreePathInfo(node, this);\n    return params;\n  },\n\n  /**\n   * @public\n   * @param {Object} layoutInfo {\n   *                                x: containerGroup x\n   *                                y: containerGroup y\n   *                                width: containerGroup width\n   *                                height: containerGroup height\n   *                            }\n   */\n  setLayoutInfo: function (layoutInfo) {\n    /**\n     * @readOnly\n     * @type {Object}\n     */\n    this.layoutInfo = this.layoutInfo || {};\n    zrUtil.extend(this.layoutInfo, layoutInfo);\n  },\n\n  /**\n   * @param  {string} id\n   * @return {number} index\n   */\n  mapIdToIndex: function (id) {\n    // A feature is implemented:\n    // index is monotone increasing with the sequence of\n    // input id at the first time.\n    // This feature can make sure that each data item and its\n    // mapped color have the same index between data list and\n    // color list at the beginning, which is useful for user\n    // to adjust data-color mapping.\n\n    /**\n     * @private\n     * @type {Object}\n     */\n    var idIndexMap = this._idIndexMap;\n\n    if (!idIndexMap) {\n      idIndexMap = this._idIndexMap = zrUtil.createHashMap();\n      /**\n       * @private\n       * @type {number}\n       */\n\n      this._idIndexMapCount = 0;\n    }\n\n    var index = idIndexMap.get(id);\n\n    if (index == null) {\n      idIndexMap.set(id, index = this._idIndexMapCount++);\n    }\n\n    return index;\n  },\n  getViewRoot: function () {\n    return this._viewRoot;\n  },\n\n  /**\n   * @param {module:echarts/data/Tree~Node} [viewRoot]\n   */\n  resetViewRoot: function (viewRoot) {\n    viewRoot ? this._viewRoot = viewRoot : viewRoot = this._viewRoot;\n    var root = this.getRawData().tree.root;\n\n    if (!viewRoot || viewRoot !== root && !root.contains(viewRoot)) {\n      this._viewRoot = root;\n    }\n  }\n});\n/**\n * @param {Object} dataNode\n */\n\n\nfunction completeTreeValue(dataNode) {\n  // Postorder travel tree.\n  // If value of none-leaf node is not set,\n  // calculate it by suming up the value of all children.\n  var sum = 0;\n  zrUtil.each(dataNode.children, function (child) {\n    completeTreeValue(child);\n    var childValue = child.value;\n    zrUtil.isArray(childValue) && (childValue = childValue[0]);\n    sum += childValue;\n  });\n  var thisValue = dataNode.value;\n\n  if (zrUtil.isArray(thisValue)) {\n    thisValue = thisValue[0];\n  }\n\n  if (thisValue == null || isNaN(thisValue)) {\n    thisValue = sum;\n  } // Value should not less than 0.\n\n\n  if (thisValue < 0) {\n    thisValue = 0;\n  }\n\n  zrUtil.isArray(dataNode.value) ? dataNode.value[0] = thisValue : dataNode.value = thisValue;\n}\n/**\n * set default to level configuration\n */\n\n\nfunction setDefault(levels, ecModel) {\n  var globalColorList = ecModel.get('color');\n\n  if (!globalColorList) {\n    return;\n  }\n\n  levels = levels || [];\n  var hasColorDefine;\n  zrUtil.each(levels, function (levelDefine) {\n    var model = new Model(levelDefine);\n    var modelColor = model.get('color');\n\n    if (model.get('itemStyle.color') || modelColor && modelColor !== 'none') {\n      hasColorDefine = true;\n    }\n  });\n\n  if (!hasColorDefine) {\n    var level0 = levels[0] || (levels[0] = {});\n    level0.color = globalColorList.slice();\n  }\n\n  return levels;\n}\n\nmodule.exports = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}