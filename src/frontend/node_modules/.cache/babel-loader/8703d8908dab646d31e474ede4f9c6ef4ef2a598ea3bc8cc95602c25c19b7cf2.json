{"ast":null,"code":"require(\"core-js/modules/es.array.push.js\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar Polyline = require(\"./Polyline\");\nvar zrUtil = require(\"zrender/lib/core/util\");\nvar EffectLine = require(\"./EffectLine\");\nvar vec2 = require(\"zrender/lib/core/vector\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Provide effect for line\n * @module echarts/chart/helper/EffectLine\n */\n\n/**\n * @constructor\n * @extends {module:echarts/chart/helper/EffectLine}\n * @alias {module:echarts/chart/helper/Polyline}\n */\nfunction EffectPolyline(lineData, idx, seriesScope) {\n  EffectLine.call(this, lineData, idx, seriesScope);\n  this._lastFrame = 0;\n  this._lastFramePercent = 0;\n}\nvar effectPolylineProto = EffectPolyline.prototype; // Overwrite\n\neffectPolylineProto.createLine = function (lineData, idx, seriesScope) {\n  return new Polyline(lineData, idx, seriesScope);\n}; // Overwrite\n\neffectPolylineProto.updateAnimationPoints = function (symbol, points) {\n  this._points = points;\n  var accLenArr = [0];\n  var len = 0;\n  for (var i = 1; i < points.length; i++) {\n    var p1 = points[i - 1];\n    var p2 = points[i];\n    len += vec2.dist(p1, p2);\n    accLenArr.push(len);\n  }\n  if (len === 0) {\n    return;\n  }\n  for (var i = 0; i < accLenArr.length; i++) {\n    accLenArr[i] /= len;\n  }\n  this._offsets = accLenArr;\n  this._length = len;\n}; // Overwrite\n\neffectPolylineProto.getLineLength = function (symbol) {\n  return this._length;\n}; // Overwrite\n\neffectPolylineProto.updateSymbolPosition = function (symbol) {\n  var t = symbol.__t;\n  var points = this._points;\n  var offsets = this._offsets;\n  var len = points.length;\n  if (!offsets) {\n    // Has length 0\n    return;\n  }\n  var lastFrame = this._lastFrame;\n  var frame;\n  if (t < this._lastFramePercent) {\n    // Start from the next frame\n    // PENDING start from lastFrame ?\n    var start = Math.min(lastFrame + 1, len - 1);\n    for (frame = start; frame >= 0; frame--) {\n      if (offsets[frame] <= t) {\n        break;\n      }\n    } // PENDING really need to do this ?\n\n    frame = Math.min(frame, len - 2);\n  } else {\n    for (var frame = lastFrame; frame < len; frame++) {\n      if (offsets[frame] > t) {\n        break;\n      }\n    }\n    frame = Math.min(frame - 1, len - 2);\n  }\n  vec2.lerp(symbol.position, points[frame], points[frame + 1], (t - offsets[frame]) / (offsets[frame + 1] - offsets[frame]));\n  var tx = points[frame + 1][0] - points[frame][0];\n  var ty = points[frame + 1][1] - points[frame][1];\n  symbol.rotation = -Math.atan2(ty, tx) - Math.PI / 2;\n  this._lastFrame = frame;\n  this._lastFramePercent = t;\n  symbol.ignore = false;\n};\nzrUtil.inherits(EffectPolyline, EffectLine);\nvar _default = EffectPolyline;\nmodule.exports = _default;","map":{"version":3,"names":["Polyline","require","zrUtil","EffectLine","vec2","EffectPolyline","lineData","idx","seriesScope","call","_lastFrame","_lastFramePercent","effectPolylineProto","prototype","createLine","updateAnimationPoints","symbol","points","_points","accLenArr","len","i","length","p1","p2","dist","push","_offsets","_length","getLineLength","updateSymbolPosition","t","__t","offsets","lastFrame","frame","start","Math","min","lerp","position","tx","ty","rotation","atan2","PI","ignore","inherits","_default","module","exports"],"sources":["/Users/zoyazhou/workspace/vscodeProjects/ccc_assign2/node_modules/echarts/lib/chart/helper/EffectPolyline.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar Polyline = require(\"./Polyline\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar EffectLine = require(\"./EffectLine\");\n\nvar vec2 = require(\"zrender/lib/core/vector\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Provide effect for line\n * @module echarts/chart/helper/EffectLine\n */\n\n/**\n * @constructor\n * @extends {module:echarts/chart/helper/EffectLine}\n * @alias {module:echarts/chart/helper/Polyline}\n */\nfunction EffectPolyline(lineData, idx, seriesScope) {\n  EffectLine.call(this, lineData, idx, seriesScope);\n  this._lastFrame = 0;\n  this._lastFramePercent = 0;\n}\n\nvar effectPolylineProto = EffectPolyline.prototype; // Overwrite\n\neffectPolylineProto.createLine = function (lineData, idx, seriesScope) {\n  return new Polyline(lineData, idx, seriesScope);\n}; // Overwrite\n\n\neffectPolylineProto.updateAnimationPoints = function (symbol, points) {\n  this._points = points;\n  var accLenArr = [0];\n  var len = 0;\n\n  for (var i = 1; i < points.length; i++) {\n    var p1 = points[i - 1];\n    var p2 = points[i];\n    len += vec2.dist(p1, p2);\n    accLenArr.push(len);\n  }\n\n  if (len === 0) {\n    return;\n  }\n\n  for (var i = 0; i < accLenArr.length; i++) {\n    accLenArr[i] /= len;\n  }\n\n  this._offsets = accLenArr;\n  this._length = len;\n}; // Overwrite\n\n\neffectPolylineProto.getLineLength = function (symbol) {\n  return this._length;\n}; // Overwrite\n\n\neffectPolylineProto.updateSymbolPosition = function (symbol) {\n  var t = symbol.__t;\n  var points = this._points;\n  var offsets = this._offsets;\n  var len = points.length;\n\n  if (!offsets) {\n    // Has length 0\n    return;\n  }\n\n  var lastFrame = this._lastFrame;\n  var frame;\n\n  if (t < this._lastFramePercent) {\n    // Start from the next frame\n    // PENDING start from lastFrame ?\n    var start = Math.min(lastFrame + 1, len - 1);\n\n    for (frame = start; frame >= 0; frame--) {\n      if (offsets[frame] <= t) {\n        break;\n      }\n    } // PENDING really need to do this ?\n\n\n    frame = Math.min(frame, len - 2);\n  } else {\n    for (var frame = lastFrame; frame < len; frame++) {\n      if (offsets[frame] > t) {\n        break;\n      }\n    }\n\n    frame = Math.min(frame - 1, len - 2);\n  }\n\n  vec2.lerp(symbol.position, points[frame], points[frame + 1], (t - offsets[frame]) / (offsets[frame + 1] - offsets[frame]));\n  var tx = points[frame + 1][0] - points[frame][0];\n  var ty = points[frame + 1][1] - points[frame][1];\n  symbol.rotation = -Math.atan2(ty, tx) - Math.PI / 2;\n  this._lastFrame = frame;\n  this._lastFramePercent = t;\n  symbol.ignore = false;\n};\n\nzrUtil.inherits(EffectPolyline, EffectLine);\nvar _default = EffectPolyline;\nmodule.exports = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}