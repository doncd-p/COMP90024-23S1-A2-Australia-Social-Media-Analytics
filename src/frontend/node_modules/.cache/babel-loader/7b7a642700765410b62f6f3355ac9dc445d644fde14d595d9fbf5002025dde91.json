{"ast":null,"code":"require(\"core-js/modules/es.array.push.js\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\nvar eventTool = require(\"zrender/lib/core/event\");\nvar graphic = require(\"../../util/graphic\");\nvar throttle = require(\"../../util/throttle\");\nvar DataZoomView = require(\"./DataZoomView\");\nvar numberUtil = require(\"../../util/number\");\nvar layout = require(\"../../util/layout\");\nvar sliderMove = require(\"../helper/sliderMove\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar Rect = graphic.Rect;\nvar linearMap = numberUtil.linearMap;\nvar asc = numberUtil.asc;\nvar bind = zrUtil.bind;\nvar each = zrUtil.each; // Constants\n\nvar DEFAULT_LOCATION_EDGE_GAP = 7;\nvar DEFAULT_FRAME_BORDER_WIDTH = 1;\nvar DEFAULT_FILLER_SIZE = 30;\nvar HORIZONTAL = 'horizontal';\nvar VERTICAL = 'vertical';\nvar LABEL_GAP = 5;\nvar SHOW_DATA_SHADOW_SERIES_TYPE = ['line', 'bar', 'candlestick', 'scatter'];\nvar SliderZoomView = DataZoomView.extend({\n  type: 'dataZoom.slider',\n  init: function (ecModel, api) {\n    /**\n     * @private\n     * @type {Object}\n     */\n    this._displayables = {};\n    /**\n     * @private\n     * @type {string}\n     */\n\n    this._orient;\n    /**\n     * [0, 100]\n     * @private\n     */\n\n    this._range;\n    /**\n     * [coord of the first handle, coord of the second handle]\n     * @private\n     */\n\n    this._handleEnds;\n    /**\n     * [length, thick]\n     * @private\n     * @type {Array.<number>}\n     */\n\n    this._size;\n    /**\n     * @private\n     * @type {number}\n     */\n\n    this._handleWidth;\n    /**\n     * @private\n     * @type {number}\n     */\n\n    this._handleHeight;\n    /**\n     * @private\n     */\n\n    this._location;\n    /**\n     * @private\n     */\n\n    this._dragging;\n    /**\n     * @private\n     */\n\n    this._dataShadowInfo;\n    this.api = api;\n  },\n  /**\n   * @override\n   */\n  render: function (dataZoomModel, ecModel, api, payload) {\n    SliderZoomView.superApply(this, 'render', arguments);\n    throttle.createOrUpdate(this, '_dispatchZoomAction', this.dataZoomModel.get('throttle'), 'fixRate');\n    this._orient = dataZoomModel.get('orient');\n    if (this.dataZoomModel.get('show') === false) {\n      this.group.removeAll();\n      return;\n    } // Notice: this._resetInterval() should not be executed when payload.type\n    // is 'dataZoom', origin this._range should be maintained, otherwise 'pan'\n    // or 'zoom' info will be missed because of 'throttle' of this.dispatchAction,\n\n    if (!payload || payload.type !== 'dataZoom' || payload.from !== this.uid) {\n      this._buildView();\n    }\n    this._updateView();\n  },\n  /**\n   * @override\n   */\n  remove: function () {\n    SliderZoomView.superApply(this, 'remove', arguments);\n    throttle.clear(this, '_dispatchZoomAction');\n  },\n  /**\n   * @override\n   */\n  dispose: function () {\n    SliderZoomView.superApply(this, 'dispose', arguments);\n    throttle.clear(this, '_dispatchZoomAction');\n  },\n  _buildView: function () {\n    var thisGroup = this.group;\n    thisGroup.removeAll();\n    this._resetLocation();\n    this._resetInterval();\n    var barGroup = this._displayables.barGroup = new graphic.Group();\n    this._renderBackground();\n    this._renderHandle();\n    this._renderDataShadow();\n    thisGroup.add(barGroup);\n    this._positionGroup();\n  },\n  /**\n   * @private\n   */\n  _resetLocation: function () {\n    var dataZoomModel = this.dataZoomModel;\n    var api = this.api; // If some of x/y/width/height are not specified,\n    // auto-adapt according to target grid.\n\n    var coordRect = this._findCoordRect();\n    var ecSize = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    }; // Default align by coordinate system rect.\n\n    var positionInfo = this._orient === HORIZONTAL ? {\n      // Why using 'right', because right should be used in vertical,\n      // and it is better to be consistent for dealing with position param merge.\n      right: ecSize.width - coordRect.x - coordRect.width,\n      top: ecSize.height - DEFAULT_FILLER_SIZE - DEFAULT_LOCATION_EDGE_GAP,\n      width: coordRect.width,\n      height: DEFAULT_FILLER_SIZE\n    } : {\n      // vertical\n      right: DEFAULT_LOCATION_EDGE_GAP,\n      top: coordRect.y,\n      width: DEFAULT_FILLER_SIZE,\n      height: coordRect.height\n    }; // Do not write back to option and replace value 'ph', because\n    // the 'ph' value should be recalculated when resize.\n\n    var layoutParams = layout.getLayoutParams(dataZoomModel.option); // Replace the placeholder value.\n\n    zrUtil.each(['right', 'top', 'width', 'height'], function (name) {\n      if (layoutParams[name] === 'ph') {\n        layoutParams[name] = positionInfo[name];\n      }\n    });\n    var layoutRect = layout.getLayoutRect(layoutParams, ecSize, dataZoomModel.padding);\n    this._location = {\n      x: layoutRect.x,\n      y: layoutRect.y\n    };\n    this._size = [layoutRect.width, layoutRect.height];\n    this._orient === VERTICAL && this._size.reverse();\n  },\n  /**\n   * @private\n   */\n  _positionGroup: function () {\n    var thisGroup = this.group;\n    var location = this._location;\n    var orient = this._orient; // Just use the first axis to determine mapping.\n\n    var targetAxisModel = this.dataZoomModel.getFirstTargetAxisModel();\n    var inverse = targetAxisModel && targetAxisModel.get('inverse');\n    var barGroup = this._displayables.barGroup;\n    var otherAxisInverse = (this._dataShadowInfo || {}).otherAxisInverse; // Transform barGroup.\n\n    barGroup.attr(orient === HORIZONTAL && !inverse ? {\n      scale: otherAxisInverse ? [1, 1] : [1, -1]\n    } : orient === HORIZONTAL && inverse ? {\n      scale: otherAxisInverse ? [-1, 1] : [-1, -1]\n    } : orient === VERTICAL && !inverse ? {\n      scale: otherAxisInverse ? [1, -1] : [1, 1],\n      rotation: Math.PI / 2 // Dont use Math.PI, considering shadow direction.\n    } : {\n      scale: otherAxisInverse ? [-1, -1] : [-1, 1],\n      rotation: Math.PI / 2\n    }); // Position barGroup\n\n    var rect = thisGroup.getBoundingRect([barGroup]);\n    thisGroup.attr('position', [location.x - rect.x, location.y - rect.y]);\n  },\n  /**\n   * @private\n   */\n  _getViewExtent: function () {\n    return [0, this._size[0]];\n  },\n  _renderBackground: function () {\n    var dataZoomModel = this.dataZoomModel;\n    var size = this._size;\n    var barGroup = this._displayables.barGroup;\n    barGroup.add(new Rect({\n      silent: true,\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1]\n      },\n      style: {\n        fill: dataZoomModel.get('backgroundColor')\n      },\n      z2: -40\n    })); // Click panel, over shadow, below handles.\n\n    barGroup.add(new Rect({\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1]\n      },\n      style: {\n        fill: 'transparent'\n      },\n      z2: 0,\n      onclick: zrUtil.bind(this._onClickPanelClick, this)\n    }));\n  },\n  _renderDataShadow: function () {\n    var info = this._dataShadowInfo = this._prepareDataShadowInfo();\n    if (!info) {\n      return;\n    }\n    var size = this._size;\n    var seriesModel = info.series;\n    var data = seriesModel.getRawData();\n    var otherDim = seriesModel.getShadowDim ? seriesModel.getShadowDim() // @see candlestick\n    : info.otherDim;\n    if (otherDim == null) {\n      return;\n    }\n    var otherDataExtent = data.getDataExtent(otherDim); // Nice extent.\n\n    var otherOffset = (otherDataExtent[1] - otherDataExtent[0]) * 0.3;\n    otherDataExtent = [otherDataExtent[0] - otherOffset, otherDataExtent[1] + otherOffset];\n    var otherShadowExtent = [0, size[1]];\n    var thisShadowExtent = [0, size[0]];\n    var areaPoints = [[size[0], 0], [0, 0]];\n    var linePoints = [];\n    var step = thisShadowExtent[1] / (data.count() - 1);\n    var thisCoord = 0; // Optimize for large data shadow\n\n    var stride = Math.round(data.count() / size[0]);\n    var lastIsEmpty;\n    data.each([otherDim], function (value, index) {\n      if (stride > 0 && index % stride) {\n        thisCoord += step;\n        return;\n      } // FIXME\n      // Should consider axis.min/axis.max when drawing dataShadow.\n      // FIXME\n      // 应该使用统一的空判断？还是在list里进行空判断？\n\n      var isEmpty = value == null || isNaN(value) || value === ''; // See #4235.\n\n      var otherCoord = isEmpty ? 0 : linearMap(value, otherDataExtent, otherShadowExtent, true); // Attempt to draw data shadow precisely when there are empty value.\n\n      if (isEmpty && !lastIsEmpty && index) {\n        areaPoints.push([areaPoints[areaPoints.length - 1][0], 0]);\n        linePoints.push([linePoints[linePoints.length - 1][0], 0]);\n      } else if (!isEmpty && lastIsEmpty) {\n        areaPoints.push([thisCoord, 0]);\n        linePoints.push([thisCoord, 0]);\n      }\n      areaPoints.push([thisCoord, otherCoord]);\n      linePoints.push([thisCoord, otherCoord]);\n      thisCoord += step;\n      lastIsEmpty = isEmpty;\n    });\n    var dataZoomModel = this.dataZoomModel; // var dataBackgroundModel = dataZoomModel.getModel('dataBackground');\n\n    this._displayables.barGroup.add(new graphic.Polygon({\n      shape: {\n        points: areaPoints\n      },\n      style: zrUtil.defaults({\n        fill: dataZoomModel.get('dataBackgroundColor')\n      }, dataZoomModel.getModel('dataBackground.areaStyle').getAreaStyle()),\n      silent: true,\n      z2: -20\n    }));\n    this._displayables.barGroup.add(new graphic.Polyline({\n      shape: {\n        points: linePoints\n      },\n      style: dataZoomModel.getModel('dataBackground.lineStyle').getLineStyle(),\n      silent: true,\n      z2: -19\n    }));\n  },\n  _prepareDataShadowInfo: function () {\n    var dataZoomModel = this.dataZoomModel;\n    var showDataShadow = dataZoomModel.get('showDataShadow');\n    if (showDataShadow === false) {\n      return;\n    } // Find a representative series.\n\n    var result;\n    var ecModel = this.ecModel;\n    dataZoomModel.eachTargetAxis(function (dimNames, axisIndex) {\n      var seriesModels = dataZoomModel.getAxisProxy(dimNames.name, axisIndex).getTargetSeriesModels();\n      zrUtil.each(seriesModels, function (seriesModel) {\n        if (result) {\n          return;\n        }\n        if (showDataShadow !== true && zrUtil.indexOf(SHOW_DATA_SHADOW_SERIES_TYPE, seriesModel.get('type')) < 0) {\n          return;\n        }\n        var thisAxis = ecModel.getComponent(dimNames.axis, axisIndex).axis;\n        var otherDim = getOtherDim(dimNames.name);\n        var otherAxisInverse;\n        var coordSys = seriesModel.coordinateSystem;\n        if (otherDim != null && coordSys.getOtherAxis) {\n          otherAxisInverse = coordSys.getOtherAxis(thisAxis).inverse;\n        }\n        otherDim = seriesModel.getData().mapDimension(otherDim);\n        result = {\n          thisAxis: thisAxis,\n          series: seriesModel,\n          thisDim: dimNames.name,\n          otherDim: otherDim,\n          otherAxisInverse: otherAxisInverse\n        };\n      }, this);\n    }, this);\n    return result;\n  },\n  _renderHandle: function () {\n    var displaybles = this._displayables;\n    var handles = displaybles.handles = [];\n    var handleLabels = displaybles.handleLabels = [];\n    var barGroup = this._displayables.barGroup;\n    var size = this._size;\n    var dataZoomModel = this.dataZoomModel;\n    barGroup.add(displaybles.filler = new Rect({\n      draggable: true,\n      cursor: getCursor(this._orient),\n      drift: bind(this._onDragMove, this, 'all'),\n      ondragstart: bind(this._showDataInfo, this, true),\n      ondragend: bind(this._onDragEnd, this),\n      onmouseover: bind(this._showDataInfo, this, true),\n      onmouseout: bind(this._showDataInfo, this, false),\n      style: {\n        fill: dataZoomModel.get('fillerColor'),\n        textPosition: 'inside'\n      }\n    })); // Frame border.\n\n    barGroup.add(new Rect({\n      silent: true,\n      subPixelOptimize: true,\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1]\n      },\n      style: {\n        stroke: dataZoomModel.get('dataBackgroundColor') || dataZoomModel.get('borderColor'),\n        lineWidth: DEFAULT_FRAME_BORDER_WIDTH,\n        fill: 'rgba(0,0,0,0)'\n      }\n    }));\n    each([0, 1], function (handleIndex) {\n      var path = graphic.createIcon(dataZoomModel.get('handleIcon'), {\n        cursor: getCursor(this._orient),\n        draggable: true,\n        drift: bind(this._onDragMove, this, handleIndex),\n        ondragend: bind(this._onDragEnd, this),\n        onmouseover: bind(this._showDataInfo, this, true),\n        onmouseout: bind(this._showDataInfo, this, false)\n      }, {\n        x: -1,\n        y: 0,\n        width: 2,\n        height: 2\n      });\n      var bRect = path.getBoundingRect();\n      this._handleHeight = numberUtil.parsePercent(dataZoomModel.get('handleSize'), this._size[1]);\n      this._handleWidth = bRect.width / bRect.height * this._handleHeight;\n      path.setStyle(dataZoomModel.getModel('handleStyle').getItemStyle());\n      var handleColor = dataZoomModel.get('handleColor'); // Compatitable with previous version\n\n      if (handleColor != null) {\n        path.style.fill = handleColor;\n      }\n      barGroup.add(handles[handleIndex] = path);\n      var textStyleModel = dataZoomModel.textStyleModel;\n      this.group.add(handleLabels[handleIndex] = new graphic.Text({\n        silent: true,\n        invisible: true,\n        style: {\n          x: 0,\n          y: 0,\n          text: '',\n          textVerticalAlign: 'middle',\n          textAlign: 'center',\n          textFill: textStyleModel.getTextColor(),\n          textFont: textStyleModel.getFont()\n        },\n        z2: 10\n      }));\n    }, this);\n  },\n  /**\n   * @private\n   */\n  _resetInterval: function () {\n    var range = this._range = this.dataZoomModel.getPercentRange();\n    var viewExtent = this._getViewExtent();\n    this._handleEnds = [linearMap(range[0], [0, 100], viewExtent, true), linearMap(range[1], [0, 100], viewExtent, true)];\n  },\n  /**\n   * @private\n   * @param {(number|string)} handleIndex 0 or 1 or 'all'\n   * @param {number} delta\n   * @return {boolean} changed\n   */\n  _updateInterval: function (handleIndex, delta) {\n    var dataZoomModel = this.dataZoomModel;\n    var handleEnds = this._handleEnds;\n    var viewExtend = this._getViewExtent();\n    var minMaxSpan = dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();\n    var percentExtent = [0, 100];\n    sliderMove(delta, handleEnds, viewExtend, dataZoomModel.get('zoomLock') ? 'all' : handleIndex, minMaxSpan.minSpan != null ? linearMap(minMaxSpan.minSpan, percentExtent, viewExtend, true) : null, minMaxSpan.maxSpan != null ? linearMap(minMaxSpan.maxSpan, percentExtent, viewExtend, true) : null);\n    var lastRange = this._range;\n    var range = this._range = asc([linearMap(handleEnds[0], viewExtend, percentExtent, true), linearMap(handleEnds[1], viewExtend, percentExtent, true)]);\n    return !lastRange || lastRange[0] !== range[0] || lastRange[1] !== range[1];\n  },\n  /**\n   * @private\n   */\n  _updateView: function (nonRealtime) {\n    var displaybles = this._displayables;\n    var handleEnds = this._handleEnds;\n    var handleInterval = asc(handleEnds.slice());\n    var size = this._size;\n    each([0, 1], function (handleIndex) {\n      // Handles\n      var handle = displaybles.handles[handleIndex];\n      var handleHeight = this._handleHeight;\n      handle.attr({\n        scale: [handleHeight / 2, handleHeight / 2],\n        position: [handleEnds[handleIndex], size[1] / 2 - handleHeight / 2]\n      });\n    }, this); // Filler\n\n    displaybles.filler.setShape({\n      x: handleInterval[0],\n      y: 0,\n      width: handleInterval[1] - handleInterval[0],\n      height: size[1]\n    });\n    this._updateDataInfo(nonRealtime);\n  },\n  /**\n   * @private\n   */\n  _updateDataInfo: function (nonRealtime) {\n    var dataZoomModel = this.dataZoomModel;\n    var displaybles = this._displayables;\n    var handleLabels = displaybles.handleLabels;\n    var orient = this._orient;\n    var labelTexts = ['', '']; // FIXME\n    // date型，支持formatter，autoformatter（ec2 date.getAutoFormatter）\n\n    if (dataZoomModel.get('showDetail')) {\n      var axisProxy = dataZoomModel.findRepresentativeAxisProxy();\n      if (axisProxy) {\n        var axis = axisProxy.getAxisModel().axis;\n        var range = this._range;\n        var dataInterval = nonRealtime // See #4434, data and axis are not processed and reset yet in non-realtime mode.\n        ? axisProxy.calculateDataWindow({\n          start: range[0],\n          end: range[1]\n        }).valueWindow : axisProxy.getDataValueWindow();\n        labelTexts = [this._formatLabel(dataInterval[0], axis), this._formatLabel(dataInterval[1], axis)];\n      }\n    }\n    var orderedHandleEnds = asc(this._handleEnds.slice());\n    setLabel.call(this, 0);\n    setLabel.call(this, 1);\n    function setLabel(handleIndex) {\n      // Label\n      // Text should not transform by barGroup.\n      // Ignore handlers transform\n      var barTransform = graphic.getTransform(displaybles.handles[handleIndex].parent, this.group);\n      var direction = graphic.transformDirection(handleIndex === 0 ? 'right' : 'left', barTransform);\n      var offset = this._handleWidth / 2 + LABEL_GAP;\n      var textPoint = graphic.applyTransform([orderedHandleEnds[handleIndex] + (handleIndex === 0 ? -offset : offset), this._size[1] / 2], barTransform);\n      handleLabels[handleIndex].setStyle({\n        x: textPoint[0],\n        y: textPoint[1],\n        textVerticalAlign: orient === HORIZONTAL ? 'middle' : direction,\n        textAlign: orient === HORIZONTAL ? direction : 'center',\n        text: labelTexts[handleIndex]\n      });\n    }\n  },\n  /**\n   * @private\n   */\n  _formatLabel: function (value, axis) {\n    var dataZoomModel = this.dataZoomModel;\n    var labelFormatter = dataZoomModel.get('labelFormatter');\n    var labelPrecision = dataZoomModel.get('labelPrecision');\n    if (labelPrecision == null || labelPrecision === 'auto') {\n      labelPrecision = axis.getPixelPrecision();\n    }\n    var valueStr = value == null || isNaN(value) ? '' // FIXME Glue code\n    : axis.type === 'category' || axis.type === 'time' ? axis.scale.getLabel(Math.round(value)) // param of toFixed should less then 20.\n    : value.toFixed(Math.min(labelPrecision, 20));\n    return zrUtil.isFunction(labelFormatter) ? labelFormatter(value, valueStr) : zrUtil.isString(labelFormatter) ? labelFormatter.replace('{value}', valueStr) : valueStr;\n  },\n  /**\n   * @private\n   * @param {boolean} showOrHide true: show, false: hide\n   */\n  _showDataInfo: function (showOrHide) {\n    // Always show when drgging.\n    showOrHide = this._dragging || showOrHide;\n    var handleLabels = this._displayables.handleLabels;\n    handleLabels[0].attr('invisible', !showOrHide);\n    handleLabels[1].attr('invisible', !showOrHide);\n  },\n  _onDragMove: function (handleIndex, dx, dy, event) {\n    this._dragging = true; // For mobile device, prevent screen slider on the button.\n\n    eventTool.stop(event.event); // Transform dx, dy to bar coordination.\n\n    var barTransform = this._displayables.barGroup.getLocalTransform();\n    var vertex = graphic.applyTransform([dx, dy], barTransform, true);\n    var changed = this._updateInterval(handleIndex, vertex[0]);\n    var realtime = this.dataZoomModel.get('realtime');\n    this._updateView(!realtime); // Avoid dispatch dataZoom repeatly but range not changed,\n    // which cause bad visual effect when progressive enabled.\n\n    changed && realtime && this._dispatchZoomAction();\n  },\n  _onDragEnd: function () {\n    this._dragging = false;\n    this._showDataInfo(false); // While in realtime mode and stream mode, dispatch action when\n    // drag end will cause the whole view rerender, which is unnecessary.\n\n    var realtime = this.dataZoomModel.get('realtime');\n    !realtime && this._dispatchZoomAction();\n  },\n  _onClickPanelClick: function (e) {\n    var size = this._size;\n    var localPoint = this._displayables.barGroup.transformCoordToLocal(e.offsetX, e.offsetY);\n    if (localPoint[0] < 0 || localPoint[0] > size[0] || localPoint[1] < 0 || localPoint[1] > size[1]) {\n      return;\n    }\n    var handleEnds = this._handleEnds;\n    var center = (handleEnds[0] + handleEnds[1]) / 2;\n    var changed = this._updateInterval('all', localPoint[0] - center);\n    this._updateView();\n    changed && this._dispatchZoomAction();\n  },\n  /**\n   * This action will be throttled.\n   * @private\n   */\n  _dispatchZoomAction: function () {\n    var range = this._range;\n    this.api.dispatchAction({\n      type: 'dataZoom',\n      from: this.uid,\n      dataZoomId: this.dataZoomModel.id,\n      start: range[0],\n      end: range[1]\n    });\n  },\n  /**\n   * @private\n   */\n  _findCoordRect: function () {\n    // Find the grid coresponding to the first axis referred by dataZoom.\n    var rect;\n    each(this.getTargetCoordInfo(), function (coordInfoList) {\n      if (!rect && coordInfoList.length) {\n        var coordSys = coordInfoList[0].model.coordinateSystem;\n        rect = coordSys.getRect && coordSys.getRect();\n      }\n    });\n    if (!rect) {\n      var width = this.api.getWidth();\n      var height = this.api.getHeight();\n      rect = {\n        x: width * 0.2,\n        y: height * 0.2,\n        width: width * 0.6,\n        height: height * 0.6\n      };\n    }\n    return rect;\n  }\n});\nfunction getOtherDim(thisDim) {\n  // FIXME\n  // 这个逻辑和getOtherAxis里一致，但是写在这里是否不好\n  var map = {\n    x: 'y',\n    y: 'x',\n    radius: 'angle',\n    angle: 'radius'\n  };\n  return map[thisDim];\n}\nfunction getCursor(orient) {\n  return orient === 'vertical' ? 'ns-resize' : 'ew-resize';\n}\nvar _default = SliderZoomView;\nmodule.exports = _default;","map":{"version":3,"names":["zrUtil","require","eventTool","graphic","throttle","DataZoomView","numberUtil","layout","sliderMove","Rect","linearMap","asc","bind","each","DEFAULT_LOCATION_EDGE_GAP","DEFAULT_FRAME_BORDER_WIDTH","DEFAULT_FILLER_SIZE","HORIZONTAL","VERTICAL","LABEL_GAP","SHOW_DATA_SHADOW_SERIES_TYPE","SliderZoomView","extend","type","init","ecModel","api","_displayables","_orient","_range","_handleEnds","_size","_handleWidth","_handleHeight","_location","_dragging","_dataShadowInfo","render","dataZoomModel","payload","superApply","arguments","createOrUpdate","get","group","removeAll","from","uid","_buildView","_updateView","remove","clear","dispose","thisGroup","_resetLocation","_resetInterval","barGroup","Group","_renderBackground","_renderHandle","_renderDataShadow","add","_positionGroup","coordRect","_findCoordRect","ecSize","width","getWidth","height","getHeight","positionInfo","right","x","top","y","layoutParams","getLayoutParams","option","name","layoutRect","getLayoutRect","padding","reverse","location","orient","targetAxisModel","getFirstTargetAxisModel","inverse","otherAxisInverse","attr","scale","rotation","Math","PI","rect","getBoundingRect","_getViewExtent","size","silent","shape","style","fill","z2","onclick","_onClickPanelClick","info","_prepareDataShadowInfo","seriesModel","series","data","getRawData","otherDim","getShadowDim","otherDataExtent","getDataExtent","otherOffset","otherShadowExtent","thisShadowExtent","areaPoints","linePoints","step","count","thisCoord","stride","round","lastIsEmpty","value","index","isEmpty","isNaN","otherCoord","push","length","Polygon","points","defaults","getModel","getAreaStyle","Polyline","getLineStyle","showDataShadow","result","eachTargetAxis","dimNames","axisIndex","seriesModels","getAxisProxy","getTargetSeriesModels","indexOf","thisAxis","getComponent","axis","getOtherDim","coordSys","coordinateSystem","getOtherAxis","getData","mapDimension","thisDim","displaybles","handles","handleLabels","filler","draggable","cursor","getCursor","drift","_onDragMove","ondragstart","_showDataInfo","ondragend","_onDragEnd","onmouseover","onmouseout","textPosition","subPixelOptimize","stroke","lineWidth","handleIndex","path","createIcon","bRect","parsePercent","setStyle","getItemStyle","handleColor","textStyleModel","Text","invisible","text","textVerticalAlign","textAlign","textFill","getTextColor","textFont","getFont","range","getPercentRange","viewExtent","_updateInterval","delta","handleEnds","viewExtend","minMaxSpan","findRepresentativeAxisProxy","getMinMaxSpan","percentExtent","minSpan","maxSpan","lastRange","nonRealtime","handleInterval","slice","handle","handleHeight","position","setShape","_updateDataInfo","labelTexts","axisProxy","getAxisModel","dataInterval","calculateDataWindow","start","end","valueWindow","getDataValueWindow","_formatLabel","orderedHandleEnds","setLabel","call","barTransform","getTransform","parent","direction","transformDirection","offset","textPoint","applyTransform","labelFormatter","labelPrecision","getPixelPrecision","valueStr","getLabel","toFixed","min","isFunction","isString","replace","showOrHide","dx","dy","event","stop","getLocalTransform","vertex","changed","realtime","_dispatchZoomAction","e","localPoint","transformCoordToLocal","offsetX","offsetY","center","dispatchAction","dataZoomId","id","getTargetCoordInfo","coordInfoList","model","getRect","map","radius","angle","_default","module","exports"],"sources":["/Users/zoyazhou/workspace/vscodeProjects/ccc_assign2/node_modules/echarts/lib/component/dataZoom/SliderZoomView.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar eventTool = require(\"zrender/lib/core/event\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar throttle = require(\"../../util/throttle\");\n\nvar DataZoomView = require(\"./DataZoomView\");\n\nvar numberUtil = require(\"../../util/number\");\n\nvar layout = require(\"../../util/layout\");\n\nvar sliderMove = require(\"../helper/sliderMove\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar Rect = graphic.Rect;\nvar linearMap = numberUtil.linearMap;\nvar asc = numberUtil.asc;\nvar bind = zrUtil.bind;\nvar each = zrUtil.each; // Constants\n\nvar DEFAULT_LOCATION_EDGE_GAP = 7;\nvar DEFAULT_FRAME_BORDER_WIDTH = 1;\nvar DEFAULT_FILLER_SIZE = 30;\nvar HORIZONTAL = 'horizontal';\nvar VERTICAL = 'vertical';\nvar LABEL_GAP = 5;\nvar SHOW_DATA_SHADOW_SERIES_TYPE = ['line', 'bar', 'candlestick', 'scatter'];\nvar SliderZoomView = DataZoomView.extend({\n  type: 'dataZoom.slider',\n  init: function (ecModel, api) {\n    /**\n     * @private\n     * @type {Object}\n     */\n    this._displayables = {};\n    /**\n     * @private\n     * @type {string}\n     */\n\n    this._orient;\n    /**\n     * [0, 100]\n     * @private\n     */\n\n    this._range;\n    /**\n     * [coord of the first handle, coord of the second handle]\n     * @private\n     */\n\n    this._handleEnds;\n    /**\n     * [length, thick]\n     * @private\n     * @type {Array.<number>}\n     */\n\n    this._size;\n    /**\n     * @private\n     * @type {number}\n     */\n\n    this._handleWidth;\n    /**\n     * @private\n     * @type {number}\n     */\n\n    this._handleHeight;\n    /**\n     * @private\n     */\n\n    this._location;\n    /**\n     * @private\n     */\n\n    this._dragging;\n    /**\n     * @private\n     */\n\n    this._dataShadowInfo;\n    this.api = api;\n  },\n\n  /**\n   * @override\n   */\n  render: function (dataZoomModel, ecModel, api, payload) {\n    SliderZoomView.superApply(this, 'render', arguments);\n    throttle.createOrUpdate(this, '_dispatchZoomAction', this.dataZoomModel.get('throttle'), 'fixRate');\n    this._orient = dataZoomModel.get('orient');\n\n    if (this.dataZoomModel.get('show') === false) {\n      this.group.removeAll();\n      return;\n    } // Notice: this._resetInterval() should not be executed when payload.type\n    // is 'dataZoom', origin this._range should be maintained, otherwise 'pan'\n    // or 'zoom' info will be missed because of 'throttle' of this.dispatchAction,\n\n\n    if (!payload || payload.type !== 'dataZoom' || payload.from !== this.uid) {\n      this._buildView();\n    }\n\n    this._updateView();\n  },\n\n  /**\n   * @override\n   */\n  remove: function () {\n    SliderZoomView.superApply(this, 'remove', arguments);\n    throttle.clear(this, '_dispatchZoomAction');\n  },\n\n  /**\n   * @override\n   */\n  dispose: function () {\n    SliderZoomView.superApply(this, 'dispose', arguments);\n    throttle.clear(this, '_dispatchZoomAction');\n  },\n  _buildView: function () {\n    var thisGroup = this.group;\n    thisGroup.removeAll();\n\n    this._resetLocation();\n\n    this._resetInterval();\n\n    var barGroup = this._displayables.barGroup = new graphic.Group();\n\n    this._renderBackground();\n\n    this._renderHandle();\n\n    this._renderDataShadow();\n\n    thisGroup.add(barGroup);\n\n    this._positionGroup();\n  },\n\n  /**\n   * @private\n   */\n  _resetLocation: function () {\n    var dataZoomModel = this.dataZoomModel;\n    var api = this.api; // If some of x/y/width/height are not specified,\n    // auto-adapt according to target grid.\n\n    var coordRect = this._findCoordRect();\n\n    var ecSize = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    }; // Default align by coordinate system rect.\n\n    var positionInfo = this._orient === HORIZONTAL ? {\n      // Why using 'right', because right should be used in vertical,\n      // and it is better to be consistent for dealing with position param merge.\n      right: ecSize.width - coordRect.x - coordRect.width,\n      top: ecSize.height - DEFAULT_FILLER_SIZE - DEFAULT_LOCATION_EDGE_GAP,\n      width: coordRect.width,\n      height: DEFAULT_FILLER_SIZE\n    } : {\n      // vertical\n      right: DEFAULT_LOCATION_EDGE_GAP,\n      top: coordRect.y,\n      width: DEFAULT_FILLER_SIZE,\n      height: coordRect.height\n    }; // Do not write back to option and replace value 'ph', because\n    // the 'ph' value should be recalculated when resize.\n\n    var layoutParams = layout.getLayoutParams(dataZoomModel.option); // Replace the placeholder value.\n\n    zrUtil.each(['right', 'top', 'width', 'height'], function (name) {\n      if (layoutParams[name] === 'ph') {\n        layoutParams[name] = positionInfo[name];\n      }\n    });\n    var layoutRect = layout.getLayoutRect(layoutParams, ecSize, dataZoomModel.padding);\n    this._location = {\n      x: layoutRect.x,\n      y: layoutRect.y\n    };\n    this._size = [layoutRect.width, layoutRect.height];\n    this._orient === VERTICAL && this._size.reverse();\n  },\n\n  /**\n   * @private\n   */\n  _positionGroup: function () {\n    var thisGroup = this.group;\n    var location = this._location;\n    var orient = this._orient; // Just use the first axis to determine mapping.\n\n    var targetAxisModel = this.dataZoomModel.getFirstTargetAxisModel();\n    var inverse = targetAxisModel && targetAxisModel.get('inverse');\n    var barGroup = this._displayables.barGroup;\n    var otherAxisInverse = (this._dataShadowInfo || {}).otherAxisInverse; // Transform barGroup.\n\n    barGroup.attr(orient === HORIZONTAL && !inverse ? {\n      scale: otherAxisInverse ? [1, 1] : [1, -1]\n    } : orient === HORIZONTAL && inverse ? {\n      scale: otherAxisInverse ? [-1, 1] : [-1, -1]\n    } : orient === VERTICAL && !inverse ? {\n      scale: otherAxisInverse ? [1, -1] : [1, 1],\n      rotation: Math.PI / 2 // Dont use Math.PI, considering shadow direction.\n\n    } : {\n      scale: otherAxisInverse ? [-1, -1] : [-1, 1],\n      rotation: Math.PI / 2\n    }); // Position barGroup\n\n    var rect = thisGroup.getBoundingRect([barGroup]);\n    thisGroup.attr('position', [location.x - rect.x, location.y - rect.y]);\n  },\n\n  /**\n   * @private\n   */\n  _getViewExtent: function () {\n    return [0, this._size[0]];\n  },\n  _renderBackground: function () {\n    var dataZoomModel = this.dataZoomModel;\n    var size = this._size;\n    var barGroup = this._displayables.barGroup;\n    barGroup.add(new Rect({\n      silent: true,\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1]\n      },\n      style: {\n        fill: dataZoomModel.get('backgroundColor')\n      },\n      z2: -40\n    })); // Click panel, over shadow, below handles.\n\n    barGroup.add(new Rect({\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1]\n      },\n      style: {\n        fill: 'transparent'\n      },\n      z2: 0,\n      onclick: zrUtil.bind(this._onClickPanelClick, this)\n    }));\n  },\n  _renderDataShadow: function () {\n    var info = this._dataShadowInfo = this._prepareDataShadowInfo();\n\n    if (!info) {\n      return;\n    }\n\n    var size = this._size;\n    var seriesModel = info.series;\n    var data = seriesModel.getRawData();\n    var otherDim = seriesModel.getShadowDim ? seriesModel.getShadowDim() // @see candlestick\n    : info.otherDim;\n\n    if (otherDim == null) {\n      return;\n    }\n\n    var otherDataExtent = data.getDataExtent(otherDim); // Nice extent.\n\n    var otherOffset = (otherDataExtent[1] - otherDataExtent[0]) * 0.3;\n    otherDataExtent = [otherDataExtent[0] - otherOffset, otherDataExtent[1] + otherOffset];\n    var otherShadowExtent = [0, size[1]];\n    var thisShadowExtent = [0, size[0]];\n    var areaPoints = [[size[0], 0], [0, 0]];\n    var linePoints = [];\n    var step = thisShadowExtent[1] / (data.count() - 1);\n    var thisCoord = 0; // Optimize for large data shadow\n\n    var stride = Math.round(data.count() / size[0]);\n    var lastIsEmpty;\n    data.each([otherDim], function (value, index) {\n      if (stride > 0 && index % stride) {\n        thisCoord += step;\n        return;\n      } // FIXME\n      // Should consider axis.min/axis.max when drawing dataShadow.\n      // FIXME\n      // 应该使用统一的空判断？还是在list里进行空判断？\n\n\n      var isEmpty = value == null || isNaN(value) || value === ''; // See #4235.\n\n      var otherCoord = isEmpty ? 0 : linearMap(value, otherDataExtent, otherShadowExtent, true); // Attempt to draw data shadow precisely when there are empty value.\n\n      if (isEmpty && !lastIsEmpty && index) {\n        areaPoints.push([areaPoints[areaPoints.length - 1][0], 0]);\n        linePoints.push([linePoints[linePoints.length - 1][0], 0]);\n      } else if (!isEmpty && lastIsEmpty) {\n        areaPoints.push([thisCoord, 0]);\n        linePoints.push([thisCoord, 0]);\n      }\n\n      areaPoints.push([thisCoord, otherCoord]);\n      linePoints.push([thisCoord, otherCoord]);\n      thisCoord += step;\n      lastIsEmpty = isEmpty;\n    });\n    var dataZoomModel = this.dataZoomModel; // var dataBackgroundModel = dataZoomModel.getModel('dataBackground');\n\n    this._displayables.barGroup.add(new graphic.Polygon({\n      shape: {\n        points: areaPoints\n      },\n      style: zrUtil.defaults({\n        fill: dataZoomModel.get('dataBackgroundColor')\n      }, dataZoomModel.getModel('dataBackground.areaStyle').getAreaStyle()),\n      silent: true,\n      z2: -20\n    }));\n\n    this._displayables.barGroup.add(new graphic.Polyline({\n      shape: {\n        points: linePoints\n      },\n      style: dataZoomModel.getModel('dataBackground.lineStyle').getLineStyle(),\n      silent: true,\n      z2: -19\n    }));\n  },\n  _prepareDataShadowInfo: function () {\n    var dataZoomModel = this.dataZoomModel;\n    var showDataShadow = dataZoomModel.get('showDataShadow');\n\n    if (showDataShadow === false) {\n      return;\n    } // Find a representative series.\n\n\n    var result;\n    var ecModel = this.ecModel;\n    dataZoomModel.eachTargetAxis(function (dimNames, axisIndex) {\n      var seriesModels = dataZoomModel.getAxisProxy(dimNames.name, axisIndex).getTargetSeriesModels();\n      zrUtil.each(seriesModels, function (seriesModel) {\n        if (result) {\n          return;\n        }\n\n        if (showDataShadow !== true && zrUtil.indexOf(SHOW_DATA_SHADOW_SERIES_TYPE, seriesModel.get('type')) < 0) {\n          return;\n        }\n\n        var thisAxis = ecModel.getComponent(dimNames.axis, axisIndex).axis;\n        var otherDim = getOtherDim(dimNames.name);\n        var otherAxisInverse;\n        var coordSys = seriesModel.coordinateSystem;\n\n        if (otherDim != null && coordSys.getOtherAxis) {\n          otherAxisInverse = coordSys.getOtherAxis(thisAxis).inverse;\n        }\n\n        otherDim = seriesModel.getData().mapDimension(otherDim);\n        result = {\n          thisAxis: thisAxis,\n          series: seriesModel,\n          thisDim: dimNames.name,\n          otherDim: otherDim,\n          otherAxisInverse: otherAxisInverse\n        };\n      }, this);\n    }, this);\n    return result;\n  },\n  _renderHandle: function () {\n    var displaybles = this._displayables;\n    var handles = displaybles.handles = [];\n    var handleLabels = displaybles.handleLabels = [];\n    var barGroup = this._displayables.barGroup;\n    var size = this._size;\n    var dataZoomModel = this.dataZoomModel;\n    barGroup.add(displaybles.filler = new Rect({\n      draggable: true,\n      cursor: getCursor(this._orient),\n      drift: bind(this._onDragMove, this, 'all'),\n      ondragstart: bind(this._showDataInfo, this, true),\n      ondragend: bind(this._onDragEnd, this),\n      onmouseover: bind(this._showDataInfo, this, true),\n      onmouseout: bind(this._showDataInfo, this, false),\n      style: {\n        fill: dataZoomModel.get('fillerColor'),\n        textPosition: 'inside'\n      }\n    })); // Frame border.\n\n    barGroup.add(new Rect({\n      silent: true,\n      subPixelOptimize: true,\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1]\n      },\n      style: {\n        stroke: dataZoomModel.get('dataBackgroundColor') || dataZoomModel.get('borderColor'),\n        lineWidth: DEFAULT_FRAME_BORDER_WIDTH,\n        fill: 'rgba(0,0,0,0)'\n      }\n    }));\n    each([0, 1], function (handleIndex) {\n      var path = graphic.createIcon(dataZoomModel.get('handleIcon'), {\n        cursor: getCursor(this._orient),\n        draggable: true,\n        drift: bind(this._onDragMove, this, handleIndex),\n        ondragend: bind(this._onDragEnd, this),\n        onmouseover: bind(this._showDataInfo, this, true),\n        onmouseout: bind(this._showDataInfo, this, false)\n      }, {\n        x: -1,\n        y: 0,\n        width: 2,\n        height: 2\n      });\n      var bRect = path.getBoundingRect();\n      this._handleHeight = numberUtil.parsePercent(dataZoomModel.get('handleSize'), this._size[1]);\n      this._handleWidth = bRect.width / bRect.height * this._handleHeight;\n      path.setStyle(dataZoomModel.getModel('handleStyle').getItemStyle());\n      var handleColor = dataZoomModel.get('handleColor'); // Compatitable with previous version\n\n      if (handleColor != null) {\n        path.style.fill = handleColor;\n      }\n\n      barGroup.add(handles[handleIndex] = path);\n      var textStyleModel = dataZoomModel.textStyleModel;\n      this.group.add(handleLabels[handleIndex] = new graphic.Text({\n        silent: true,\n        invisible: true,\n        style: {\n          x: 0,\n          y: 0,\n          text: '',\n          textVerticalAlign: 'middle',\n          textAlign: 'center',\n          textFill: textStyleModel.getTextColor(),\n          textFont: textStyleModel.getFont()\n        },\n        z2: 10\n      }));\n    }, this);\n  },\n\n  /**\n   * @private\n   */\n  _resetInterval: function () {\n    var range = this._range = this.dataZoomModel.getPercentRange();\n\n    var viewExtent = this._getViewExtent();\n\n    this._handleEnds = [linearMap(range[0], [0, 100], viewExtent, true), linearMap(range[1], [0, 100], viewExtent, true)];\n  },\n\n  /**\n   * @private\n   * @param {(number|string)} handleIndex 0 or 1 or 'all'\n   * @param {number} delta\n   * @return {boolean} changed\n   */\n  _updateInterval: function (handleIndex, delta) {\n    var dataZoomModel = this.dataZoomModel;\n    var handleEnds = this._handleEnds;\n\n    var viewExtend = this._getViewExtent();\n\n    var minMaxSpan = dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();\n    var percentExtent = [0, 100];\n    sliderMove(delta, handleEnds, viewExtend, dataZoomModel.get('zoomLock') ? 'all' : handleIndex, minMaxSpan.minSpan != null ? linearMap(minMaxSpan.minSpan, percentExtent, viewExtend, true) : null, minMaxSpan.maxSpan != null ? linearMap(minMaxSpan.maxSpan, percentExtent, viewExtend, true) : null);\n    var lastRange = this._range;\n    var range = this._range = asc([linearMap(handleEnds[0], viewExtend, percentExtent, true), linearMap(handleEnds[1], viewExtend, percentExtent, true)]);\n    return !lastRange || lastRange[0] !== range[0] || lastRange[1] !== range[1];\n  },\n\n  /**\n   * @private\n   */\n  _updateView: function (nonRealtime) {\n    var displaybles = this._displayables;\n    var handleEnds = this._handleEnds;\n    var handleInterval = asc(handleEnds.slice());\n    var size = this._size;\n    each([0, 1], function (handleIndex) {\n      // Handles\n      var handle = displaybles.handles[handleIndex];\n      var handleHeight = this._handleHeight;\n      handle.attr({\n        scale: [handleHeight / 2, handleHeight / 2],\n        position: [handleEnds[handleIndex], size[1] / 2 - handleHeight / 2]\n      });\n    }, this); // Filler\n\n    displaybles.filler.setShape({\n      x: handleInterval[0],\n      y: 0,\n      width: handleInterval[1] - handleInterval[0],\n      height: size[1]\n    });\n\n    this._updateDataInfo(nonRealtime);\n  },\n\n  /**\n   * @private\n   */\n  _updateDataInfo: function (nonRealtime) {\n    var dataZoomModel = this.dataZoomModel;\n    var displaybles = this._displayables;\n    var handleLabels = displaybles.handleLabels;\n    var orient = this._orient;\n    var labelTexts = ['', '']; // FIXME\n    // date型，支持formatter，autoformatter（ec2 date.getAutoFormatter）\n\n    if (dataZoomModel.get('showDetail')) {\n      var axisProxy = dataZoomModel.findRepresentativeAxisProxy();\n\n      if (axisProxy) {\n        var axis = axisProxy.getAxisModel().axis;\n        var range = this._range;\n        var dataInterval = nonRealtime // See #4434, data and axis are not processed and reset yet in non-realtime mode.\n        ? axisProxy.calculateDataWindow({\n          start: range[0],\n          end: range[1]\n        }).valueWindow : axisProxy.getDataValueWindow();\n        labelTexts = [this._formatLabel(dataInterval[0], axis), this._formatLabel(dataInterval[1], axis)];\n      }\n    }\n\n    var orderedHandleEnds = asc(this._handleEnds.slice());\n    setLabel.call(this, 0);\n    setLabel.call(this, 1);\n\n    function setLabel(handleIndex) {\n      // Label\n      // Text should not transform by barGroup.\n      // Ignore handlers transform\n      var barTransform = graphic.getTransform(displaybles.handles[handleIndex].parent, this.group);\n      var direction = graphic.transformDirection(handleIndex === 0 ? 'right' : 'left', barTransform);\n      var offset = this._handleWidth / 2 + LABEL_GAP;\n      var textPoint = graphic.applyTransform([orderedHandleEnds[handleIndex] + (handleIndex === 0 ? -offset : offset), this._size[1] / 2], barTransform);\n      handleLabels[handleIndex].setStyle({\n        x: textPoint[0],\n        y: textPoint[1],\n        textVerticalAlign: orient === HORIZONTAL ? 'middle' : direction,\n        textAlign: orient === HORIZONTAL ? direction : 'center',\n        text: labelTexts[handleIndex]\n      });\n    }\n  },\n\n  /**\n   * @private\n   */\n  _formatLabel: function (value, axis) {\n    var dataZoomModel = this.dataZoomModel;\n    var labelFormatter = dataZoomModel.get('labelFormatter');\n    var labelPrecision = dataZoomModel.get('labelPrecision');\n\n    if (labelPrecision == null || labelPrecision === 'auto') {\n      labelPrecision = axis.getPixelPrecision();\n    }\n\n    var valueStr = value == null || isNaN(value) ? '' // FIXME Glue code\n    : axis.type === 'category' || axis.type === 'time' ? axis.scale.getLabel(Math.round(value)) // param of toFixed should less then 20.\n    : value.toFixed(Math.min(labelPrecision, 20));\n    return zrUtil.isFunction(labelFormatter) ? labelFormatter(value, valueStr) : zrUtil.isString(labelFormatter) ? labelFormatter.replace('{value}', valueStr) : valueStr;\n  },\n\n  /**\n   * @private\n   * @param {boolean} showOrHide true: show, false: hide\n   */\n  _showDataInfo: function (showOrHide) {\n    // Always show when drgging.\n    showOrHide = this._dragging || showOrHide;\n    var handleLabels = this._displayables.handleLabels;\n    handleLabels[0].attr('invisible', !showOrHide);\n    handleLabels[1].attr('invisible', !showOrHide);\n  },\n  _onDragMove: function (handleIndex, dx, dy, event) {\n    this._dragging = true; // For mobile device, prevent screen slider on the button.\n\n    eventTool.stop(event.event); // Transform dx, dy to bar coordination.\n\n    var barTransform = this._displayables.barGroup.getLocalTransform();\n\n    var vertex = graphic.applyTransform([dx, dy], barTransform, true);\n\n    var changed = this._updateInterval(handleIndex, vertex[0]);\n\n    var realtime = this.dataZoomModel.get('realtime');\n\n    this._updateView(!realtime); // Avoid dispatch dataZoom repeatly but range not changed,\n    // which cause bad visual effect when progressive enabled.\n\n\n    changed && realtime && this._dispatchZoomAction();\n  },\n  _onDragEnd: function () {\n    this._dragging = false;\n\n    this._showDataInfo(false); // While in realtime mode and stream mode, dispatch action when\n    // drag end will cause the whole view rerender, which is unnecessary.\n\n\n    var realtime = this.dataZoomModel.get('realtime');\n    !realtime && this._dispatchZoomAction();\n  },\n  _onClickPanelClick: function (e) {\n    var size = this._size;\n\n    var localPoint = this._displayables.barGroup.transformCoordToLocal(e.offsetX, e.offsetY);\n\n    if (localPoint[0] < 0 || localPoint[0] > size[0] || localPoint[1] < 0 || localPoint[1] > size[1]) {\n      return;\n    }\n\n    var handleEnds = this._handleEnds;\n    var center = (handleEnds[0] + handleEnds[1]) / 2;\n\n    var changed = this._updateInterval('all', localPoint[0] - center);\n\n    this._updateView();\n\n    changed && this._dispatchZoomAction();\n  },\n\n  /**\n   * This action will be throttled.\n   * @private\n   */\n  _dispatchZoomAction: function () {\n    var range = this._range;\n    this.api.dispatchAction({\n      type: 'dataZoom',\n      from: this.uid,\n      dataZoomId: this.dataZoomModel.id,\n      start: range[0],\n      end: range[1]\n    });\n  },\n\n  /**\n   * @private\n   */\n  _findCoordRect: function () {\n    // Find the grid coresponding to the first axis referred by dataZoom.\n    var rect;\n    each(this.getTargetCoordInfo(), function (coordInfoList) {\n      if (!rect && coordInfoList.length) {\n        var coordSys = coordInfoList[0].model.coordinateSystem;\n        rect = coordSys.getRect && coordSys.getRect();\n      }\n    });\n\n    if (!rect) {\n      var width = this.api.getWidth();\n      var height = this.api.getHeight();\n      rect = {\n        x: width * 0.2,\n        y: height * 0.2,\n        width: width * 0.6,\n        height: height * 0.6\n      };\n    }\n\n    return rect;\n  }\n});\n\nfunction getOtherDim(thisDim) {\n  // FIXME\n  // 这个逻辑和getOtherAxis里一致，但是写在这里是否不好\n  var map = {\n    x: 'y',\n    y: 'x',\n    radius: 'angle',\n    angle: 'radius'\n  };\n  return map[thisDim];\n}\n\nfunction getCursor(orient) {\n  return orient === 'vertical' ? 'ns-resize' : 'ew-resize';\n}\n\nvar _default = SliderZoomView;\nmodule.exports = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}