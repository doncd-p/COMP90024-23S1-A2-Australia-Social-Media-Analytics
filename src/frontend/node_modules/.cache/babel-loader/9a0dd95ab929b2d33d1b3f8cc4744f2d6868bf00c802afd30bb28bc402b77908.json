{"ast":null,"code":"/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\nvar zrUtil = require(\"zrender/lib/core/util\");\nvar SymbolDraw = require(\"../helper/SymbolDraw\");\nvar LineDraw = require(\"../helper/LineDraw\");\nvar RoamController = require(\"../../component/helper/RoamController\");\nvar roamHelper = require(\"../../component/helper/roamHelper\");\nvar _cursorHelper = require(\"../../component/helper/cursorHelper\");\nvar onIrrelevantElement = _cursorHelper.onIrrelevantElement;\nvar graphic = require(\"../../util/graphic\");\nvar adjustEdge = require(\"./adjustEdge\");\nvar _graphHelper = require(\"./graphHelper\");\nvar getNodeGlobalScale = _graphHelper.getNodeGlobalScale;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar FOCUS_ADJACENCY = '__focusNodeAdjacency';\nvar UNFOCUS_ADJACENCY = '__unfocusNodeAdjacency';\nvar nodeOpacityPath = ['itemStyle', 'opacity'];\nvar lineOpacityPath = ['lineStyle', 'opacity'];\nfunction getItemOpacity(item, opacityPath) {\n  var opacity = item.getVisual('opacity');\n  return opacity != null ? opacity : item.getModel().get(opacityPath);\n}\nfunction fadeOutItem(item, opacityPath, opacityRatio) {\n  var el = item.getGraphicEl();\n  var opacity = getItemOpacity(item, opacityPath);\n  if (opacityRatio != null) {\n    opacity == null && (opacity = 1);\n    opacity *= opacityRatio;\n  }\n  el.downplay && el.downplay();\n  el.traverse(function (child) {\n    if (!child.isGroup) {\n      var opct = child.lineLabelOriginalOpacity;\n      if (opct == null || opacityRatio != null) {\n        opct = opacity;\n      }\n      child.setStyle('opacity', opct);\n    }\n  });\n}\nfunction fadeInItem(item, opacityPath) {\n  var opacity = getItemOpacity(item, opacityPath);\n  var el = item.getGraphicEl(); // Should go back to normal opacity first, consider hoverLayer,\n  // where current state is copied to elMirror, and support\n  // emphasis opacity here.\n\n  el.traverse(function (child) {\n    !child.isGroup && child.setStyle('opacity', opacity);\n  });\n  el.highlight && el.highlight();\n}\nvar _default = echarts.extendChartView({\n  type: 'graph',\n  init: function (ecModel, api) {\n    var symbolDraw = new SymbolDraw();\n    var lineDraw = new LineDraw();\n    var group = this.group;\n    this._controller = new RoamController(api.getZr());\n    this._controllerHost = {\n      target: group\n    };\n    group.add(symbolDraw.group);\n    group.add(lineDraw.group);\n    this._symbolDraw = symbolDraw;\n    this._lineDraw = lineDraw;\n    this._firstRender = true;\n  },\n  render: function (seriesModel, ecModel, api) {\n    var graphView = this;\n    var coordSys = seriesModel.coordinateSystem;\n    this._model = seriesModel;\n    var symbolDraw = this._symbolDraw;\n    var lineDraw = this._lineDraw;\n    var group = this.group;\n    if (coordSys.type === 'view') {\n      var groupNewProp = {\n        position: coordSys.position,\n        scale: coordSys.scale\n      };\n      if (this._firstRender) {\n        group.attr(groupNewProp);\n      } else {\n        graphic.updateProps(group, groupNewProp, seriesModel);\n      }\n    } // Fix edge contact point with node\n\n    adjustEdge(seriesModel.getGraph(), getNodeGlobalScale(seriesModel));\n    var data = seriesModel.getData();\n    symbolDraw.updateData(data);\n    var edgeData = seriesModel.getEdgeData();\n    lineDraw.updateData(edgeData);\n    this._updateNodeAndLinkScale();\n    this._updateController(seriesModel, ecModel, api);\n    clearTimeout(this._layoutTimeout);\n    var forceLayout = seriesModel.forceLayout;\n    var layoutAnimation = seriesModel.get('force.layoutAnimation');\n    if (forceLayout) {\n      this._startForceLayoutIteration(forceLayout, layoutAnimation);\n    }\n    data.eachItemGraphicEl(function (el, idx) {\n      var itemModel = data.getItemModel(idx); // Update draggable\n\n      el.off('drag').off('dragend');\n      var draggable = itemModel.get('draggable');\n      if (draggable) {\n        el.on('drag', function () {\n          if (forceLayout) {\n            forceLayout.warmUp();\n            !this._layouting && this._startForceLayoutIteration(forceLayout, layoutAnimation);\n            forceLayout.setFixed(idx); // Write position back to layout\n\n            data.setItemLayout(idx, el.position);\n          }\n        }, this).on('dragend', function () {\n          if (forceLayout) {\n            forceLayout.setUnfixed(idx);\n          }\n        }, this);\n      }\n      el.setDraggable(draggable && forceLayout);\n      el[FOCUS_ADJACENCY] && el.off('mouseover', el[FOCUS_ADJACENCY]);\n      el[UNFOCUS_ADJACENCY] && el.off('mouseout', el[UNFOCUS_ADJACENCY]);\n      if (itemModel.get('focusNodeAdjacency')) {\n        el.on('mouseover', el[FOCUS_ADJACENCY] = function () {\n          graphView._clearTimer();\n          api.dispatchAction({\n            type: 'focusNodeAdjacency',\n            seriesId: seriesModel.id,\n            dataIndex: el.dataIndex\n          });\n        });\n        el.on('mouseout', el[UNFOCUS_ADJACENCY] = function () {\n          graphView._dispatchUnfocus(api);\n        });\n      }\n    }, this);\n    data.graph.eachEdge(function (edge) {\n      var el = edge.getGraphicEl();\n      el[FOCUS_ADJACENCY] && el.off('mouseover', el[FOCUS_ADJACENCY]);\n      el[UNFOCUS_ADJACENCY] && el.off('mouseout', el[UNFOCUS_ADJACENCY]);\n      if (edge.getModel().get('focusNodeAdjacency')) {\n        el.on('mouseover', el[FOCUS_ADJACENCY] = function () {\n          graphView._clearTimer();\n          api.dispatchAction({\n            type: 'focusNodeAdjacency',\n            seriesId: seriesModel.id,\n            edgeDataIndex: edge.dataIndex\n          });\n        });\n        el.on('mouseout', el[UNFOCUS_ADJACENCY] = function () {\n          graphView._dispatchUnfocus(api);\n        });\n      }\n    });\n    var circularRotateLabel = seriesModel.get('layout') === 'circular' && seriesModel.get('circular.rotateLabel');\n    var cx = data.getLayout('cx');\n    var cy = data.getLayout('cy');\n    data.eachItemGraphicEl(function (el, idx) {\n      var itemModel = data.getItemModel(idx);\n      var labelRotate = itemModel.get('label.rotate') || 0;\n      var symbolPath = el.getSymbolPath();\n      if (circularRotateLabel) {\n        var pos = data.getItemLayout(idx);\n        var rad = Math.atan2(pos[1] - cy, pos[0] - cx);\n        if (rad < 0) {\n          rad = Math.PI * 2 + rad;\n        }\n        var isLeft = pos[0] < cx;\n        if (isLeft) {\n          rad = rad - Math.PI;\n        }\n        var textPosition = isLeft ? 'left' : 'right';\n        graphic.modifyLabelStyle(symbolPath, {\n          textRotation: -rad,\n          textPosition: textPosition,\n          textOrigin: 'center'\n        }, {\n          textPosition: textPosition\n        });\n      } else {\n        graphic.modifyLabelStyle(symbolPath, {\n          textRotation: labelRotate *= Math.PI / 180\n        });\n      }\n    });\n    this._firstRender = false;\n  },\n  dispose: function () {\n    this._controller && this._controller.dispose();\n    this._controllerHost = {};\n    this._clearTimer();\n  },\n  _dispatchUnfocus: function (api, opt) {\n    var self = this;\n    this._clearTimer();\n    this._unfocusDelayTimer = setTimeout(function () {\n      self._unfocusDelayTimer = null;\n      api.dispatchAction({\n        type: 'unfocusNodeAdjacency',\n        seriesId: self._model.id\n      });\n    }, 500);\n  },\n  _clearTimer: function () {\n    if (this._unfocusDelayTimer) {\n      clearTimeout(this._unfocusDelayTimer);\n      this._unfocusDelayTimer = null;\n    }\n  },\n  focusNodeAdjacency: function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData();\n    var graph = data.graph;\n    var dataIndex = payload.dataIndex;\n    var edgeDataIndex = payload.edgeDataIndex;\n    var node = graph.getNodeByIndex(dataIndex);\n    var edge = graph.getEdgeByIndex(edgeDataIndex);\n    if (!node && !edge) {\n      return;\n    }\n    graph.eachNode(function (node) {\n      fadeOutItem(node, nodeOpacityPath, 0.1);\n    });\n    graph.eachEdge(function (edge) {\n      fadeOutItem(edge, lineOpacityPath, 0.1);\n    });\n    if (node) {\n      fadeInItem(node, nodeOpacityPath);\n      zrUtil.each(node.edges, function (adjacentEdge) {\n        if (adjacentEdge.dataIndex < 0) {\n          return;\n        }\n        fadeInItem(adjacentEdge, lineOpacityPath);\n        fadeInItem(adjacentEdge.node1, nodeOpacityPath);\n        fadeInItem(adjacentEdge.node2, nodeOpacityPath);\n      });\n    }\n    if (edge) {\n      fadeInItem(edge, lineOpacityPath);\n      fadeInItem(edge.node1, nodeOpacityPath);\n      fadeInItem(edge.node2, nodeOpacityPath);\n    }\n  },\n  unfocusNodeAdjacency: function (seriesModel, ecModel, api, payload) {\n    var graph = seriesModel.getData().graph;\n    graph.eachNode(function (node) {\n      fadeOutItem(node, nodeOpacityPath);\n    });\n    graph.eachEdge(function (edge) {\n      fadeOutItem(edge, lineOpacityPath);\n    });\n  },\n  _startForceLayoutIteration: function (forceLayout, layoutAnimation) {\n    var self = this;\n    (function step() {\n      forceLayout.step(function (stopped) {\n        self.updateLayout(self._model);\n        (self._layouting = !stopped) && (layoutAnimation ? self._layoutTimeout = setTimeout(step, 16) : step());\n      });\n    })();\n  },\n  _updateController: function (seriesModel, ecModel, api) {\n    var controller = this._controller;\n    var controllerHost = this._controllerHost;\n    var group = this.group;\n    controller.setPointerChecker(function (e, x, y) {\n      var rect = group.getBoundingRect();\n      rect.applyTransform(group.transform);\n      return rect.contain(x, y) && !onIrrelevantElement(e, api, seriesModel);\n    });\n    if (seriesModel.coordinateSystem.type !== 'view') {\n      controller.disable();\n      return;\n    }\n    controller.enable(seriesModel.get('roam'));\n    controllerHost.zoomLimit = seriesModel.get('scaleLimit');\n    controllerHost.zoom = seriesModel.coordinateSystem.getZoom();\n    controller.off('pan').off('zoom').on('pan', function (e) {\n      roamHelper.updateViewOnPan(controllerHost, e.dx, e.dy);\n      api.dispatchAction({\n        seriesId: seriesModel.id,\n        type: 'graphRoam',\n        dx: e.dx,\n        dy: e.dy\n      });\n    }).on('zoom', function (e) {\n      roamHelper.updateViewOnZoom(controllerHost, e.scale, e.originX, e.originY);\n      api.dispatchAction({\n        seriesId: seriesModel.id,\n        type: 'graphRoam',\n        zoom: e.scale,\n        originX: e.originX,\n        originY: e.originY\n      });\n      this._updateNodeAndLinkScale();\n      adjustEdge(seriesModel.getGraph(), getNodeGlobalScale(seriesModel));\n      this._lineDraw.updateLayout();\n    }, this);\n  },\n  _updateNodeAndLinkScale: function () {\n    var seriesModel = this._model;\n    var data = seriesModel.getData();\n    var nodeScale = getNodeGlobalScale(seriesModel);\n    var invScale = [nodeScale, nodeScale];\n    data.eachItemGraphicEl(function (el, idx) {\n      el.attr('scale', invScale);\n    });\n  },\n  updateLayout: function (seriesModel) {\n    adjustEdge(seriesModel.getGraph(), getNodeGlobalScale(seriesModel));\n    this._symbolDraw.updateLayout();\n    this._lineDraw.updateLayout();\n  },\n  remove: function (ecModel, api) {\n    this._symbolDraw && this._symbolDraw.remove();\n    this._lineDraw && this._lineDraw.remove();\n  }\n});\nmodule.exports = _default;","map":{"version":3,"names":["echarts","require","zrUtil","SymbolDraw","LineDraw","RoamController","roamHelper","_cursorHelper","onIrrelevantElement","graphic","adjustEdge","_graphHelper","getNodeGlobalScale","FOCUS_ADJACENCY","UNFOCUS_ADJACENCY","nodeOpacityPath","lineOpacityPath","getItemOpacity","item","opacityPath","opacity","getVisual","getModel","get","fadeOutItem","opacityRatio","el","getGraphicEl","downplay","traverse","child","isGroup","opct","lineLabelOriginalOpacity","setStyle","fadeInItem","highlight","_default","extendChartView","type","init","ecModel","api","symbolDraw","lineDraw","group","_controller","getZr","_controllerHost","target","add","_symbolDraw","_lineDraw","_firstRender","render","seriesModel","graphView","coordSys","coordinateSystem","_model","groupNewProp","position","scale","attr","updateProps","getGraph","data","getData","updateData","edgeData","getEdgeData","_updateNodeAndLinkScale","_updateController","clearTimeout","_layoutTimeout","forceLayout","layoutAnimation","_startForceLayoutIteration","eachItemGraphicEl","idx","itemModel","getItemModel","off","draggable","on","warmUp","_layouting","setFixed","setItemLayout","setUnfixed","setDraggable","_clearTimer","dispatchAction","seriesId","id","dataIndex","_dispatchUnfocus","graph","eachEdge","edge","edgeDataIndex","circularRotateLabel","cx","getLayout","cy","labelRotate","symbolPath","getSymbolPath","pos","getItemLayout","rad","Math","atan2","PI","isLeft","textPosition","modifyLabelStyle","textRotation","textOrigin","dispose","opt","self","_unfocusDelayTimer","setTimeout","focusNodeAdjacency","payload","node","getNodeByIndex","getEdgeByIndex","eachNode","each","edges","adjacentEdge","node1","node2","unfocusNodeAdjacency","step","stopped","updateLayout","controller","controllerHost","setPointerChecker","e","x","y","rect","getBoundingRect","applyTransform","transform","contain","disable","enable","zoomLimit","zoom","getZoom","updateViewOnPan","dx","dy","updateViewOnZoom","originX","originY","nodeScale","invScale","remove","module","exports"],"sources":["/Users/zoyazhou/workspace/vscodeProjects/ccc_assign2/node_modules/echarts/lib/chart/graph/GraphView.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar SymbolDraw = require(\"../helper/SymbolDraw\");\n\nvar LineDraw = require(\"../helper/LineDraw\");\n\nvar RoamController = require(\"../../component/helper/RoamController\");\n\nvar roamHelper = require(\"../../component/helper/roamHelper\");\n\nvar _cursorHelper = require(\"../../component/helper/cursorHelper\");\n\nvar onIrrelevantElement = _cursorHelper.onIrrelevantElement;\n\nvar graphic = require(\"../../util/graphic\");\n\nvar adjustEdge = require(\"./adjustEdge\");\n\nvar _graphHelper = require(\"./graphHelper\");\n\nvar getNodeGlobalScale = _graphHelper.getNodeGlobalScale;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar FOCUS_ADJACENCY = '__focusNodeAdjacency';\nvar UNFOCUS_ADJACENCY = '__unfocusNodeAdjacency';\nvar nodeOpacityPath = ['itemStyle', 'opacity'];\nvar lineOpacityPath = ['lineStyle', 'opacity'];\n\nfunction getItemOpacity(item, opacityPath) {\n  var opacity = item.getVisual('opacity');\n  return opacity != null ? opacity : item.getModel().get(opacityPath);\n}\n\nfunction fadeOutItem(item, opacityPath, opacityRatio) {\n  var el = item.getGraphicEl();\n  var opacity = getItemOpacity(item, opacityPath);\n\n  if (opacityRatio != null) {\n    opacity == null && (opacity = 1);\n    opacity *= opacityRatio;\n  }\n\n  el.downplay && el.downplay();\n  el.traverse(function (child) {\n    if (!child.isGroup) {\n      var opct = child.lineLabelOriginalOpacity;\n\n      if (opct == null || opacityRatio != null) {\n        opct = opacity;\n      }\n\n      child.setStyle('opacity', opct);\n    }\n  });\n}\n\nfunction fadeInItem(item, opacityPath) {\n  var opacity = getItemOpacity(item, opacityPath);\n  var el = item.getGraphicEl(); // Should go back to normal opacity first, consider hoverLayer,\n  // where current state is copied to elMirror, and support\n  // emphasis opacity here.\n\n  el.traverse(function (child) {\n    !child.isGroup && child.setStyle('opacity', opacity);\n  });\n  el.highlight && el.highlight();\n}\n\nvar _default = echarts.extendChartView({\n  type: 'graph',\n  init: function (ecModel, api) {\n    var symbolDraw = new SymbolDraw();\n    var lineDraw = new LineDraw();\n    var group = this.group;\n    this._controller = new RoamController(api.getZr());\n    this._controllerHost = {\n      target: group\n    };\n    group.add(symbolDraw.group);\n    group.add(lineDraw.group);\n    this._symbolDraw = symbolDraw;\n    this._lineDraw = lineDraw;\n    this._firstRender = true;\n  },\n  render: function (seriesModel, ecModel, api) {\n    var graphView = this;\n    var coordSys = seriesModel.coordinateSystem;\n    this._model = seriesModel;\n    var symbolDraw = this._symbolDraw;\n    var lineDraw = this._lineDraw;\n    var group = this.group;\n\n    if (coordSys.type === 'view') {\n      var groupNewProp = {\n        position: coordSys.position,\n        scale: coordSys.scale\n      };\n\n      if (this._firstRender) {\n        group.attr(groupNewProp);\n      } else {\n        graphic.updateProps(group, groupNewProp, seriesModel);\n      }\n    } // Fix edge contact point with node\n\n\n    adjustEdge(seriesModel.getGraph(), getNodeGlobalScale(seriesModel));\n    var data = seriesModel.getData();\n    symbolDraw.updateData(data);\n    var edgeData = seriesModel.getEdgeData();\n    lineDraw.updateData(edgeData);\n\n    this._updateNodeAndLinkScale();\n\n    this._updateController(seriesModel, ecModel, api);\n\n    clearTimeout(this._layoutTimeout);\n    var forceLayout = seriesModel.forceLayout;\n    var layoutAnimation = seriesModel.get('force.layoutAnimation');\n\n    if (forceLayout) {\n      this._startForceLayoutIteration(forceLayout, layoutAnimation);\n    }\n\n    data.eachItemGraphicEl(function (el, idx) {\n      var itemModel = data.getItemModel(idx); // Update draggable\n\n      el.off('drag').off('dragend');\n      var draggable = itemModel.get('draggable');\n\n      if (draggable) {\n        el.on('drag', function () {\n          if (forceLayout) {\n            forceLayout.warmUp();\n            !this._layouting && this._startForceLayoutIteration(forceLayout, layoutAnimation);\n            forceLayout.setFixed(idx); // Write position back to layout\n\n            data.setItemLayout(idx, el.position);\n          }\n        }, this).on('dragend', function () {\n          if (forceLayout) {\n            forceLayout.setUnfixed(idx);\n          }\n        }, this);\n      }\n\n      el.setDraggable(draggable && forceLayout);\n      el[FOCUS_ADJACENCY] && el.off('mouseover', el[FOCUS_ADJACENCY]);\n      el[UNFOCUS_ADJACENCY] && el.off('mouseout', el[UNFOCUS_ADJACENCY]);\n\n      if (itemModel.get('focusNodeAdjacency')) {\n        el.on('mouseover', el[FOCUS_ADJACENCY] = function () {\n          graphView._clearTimer();\n\n          api.dispatchAction({\n            type: 'focusNodeAdjacency',\n            seriesId: seriesModel.id,\n            dataIndex: el.dataIndex\n          });\n        });\n        el.on('mouseout', el[UNFOCUS_ADJACENCY] = function () {\n          graphView._dispatchUnfocus(api);\n        });\n      }\n    }, this);\n    data.graph.eachEdge(function (edge) {\n      var el = edge.getGraphicEl();\n      el[FOCUS_ADJACENCY] && el.off('mouseover', el[FOCUS_ADJACENCY]);\n      el[UNFOCUS_ADJACENCY] && el.off('mouseout', el[UNFOCUS_ADJACENCY]);\n\n      if (edge.getModel().get('focusNodeAdjacency')) {\n        el.on('mouseover', el[FOCUS_ADJACENCY] = function () {\n          graphView._clearTimer();\n\n          api.dispatchAction({\n            type: 'focusNodeAdjacency',\n            seriesId: seriesModel.id,\n            edgeDataIndex: edge.dataIndex\n          });\n        });\n        el.on('mouseout', el[UNFOCUS_ADJACENCY] = function () {\n          graphView._dispatchUnfocus(api);\n        });\n      }\n    });\n    var circularRotateLabel = seriesModel.get('layout') === 'circular' && seriesModel.get('circular.rotateLabel');\n    var cx = data.getLayout('cx');\n    var cy = data.getLayout('cy');\n    data.eachItemGraphicEl(function (el, idx) {\n      var itemModel = data.getItemModel(idx);\n      var labelRotate = itemModel.get('label.rotate') || 0;\n      var symbolPath = el.getSymbolPath();\n\n      if (circularRotateLabel) {\n        var pos = data.getItemLayout(idx);\n        var rad = Math.atan2(pos[1] - cy, pos[0] - cx);\n\n        if (rad < 0) {\n          rad = Math.PI * 2 + rad;\n        }\n\n        var isLeft = pos[0] < cx;\n\n        if (isLeft) {\n          rad = rad - Math.PI;\n        }\n\n        var textPosition = isLeft ? 'left' : 'right';\n        graphic.modifyLabelStyle(symbolPath, {\n          textRotation: -rad,\n          textPosition: textPosition,\n          textOrigin: 'center'\n        }, {\n          textPosition: textPosition\n        });\n      } else {\n        graphic.modifyLabelStyle(symbolPath, {\n          textRotation: labelRotate *= Math.PI / 180\n        });\n      }\n    });\n    this._firstRender = false;\n  },\n  dispose: function () {\n    this._controller && this._controller.dispose();\n    this._controllerHost = {};\n\n    this._clearTimer();\n  },\n  _dispatchUnfocus: function (api, opt) {\n    var self = this;\n\n    this._clearTimer();\n\n    this._unfocusDelayTimer = setTimeout(function () {\n      self._unfocusDelayTimer = null;\n      api.dispatchAction({\n        type: 'unfocusNodeAdjacency',\n        seriesId: self._model.id\n      });\n    }, 500);\n  },\n  _clearTimer: function () {\n    if (this._unfocusDelayTimer) {\n      clearTimeout(this._unfocusDelayTimer);\n      this._unfocusDelayTimer = null;\n    }\n  },\n  focusNodeAdjacency: function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData();\n    var graph = data.graph;\n    var dataIndex = payload.dataIndex;\n    var edgeDataIndex = payload.edgeDataIndex;\n    var node = graph.getNodeByIndex(dataIndex);\n    var edge = graph.getEdgeByIndex(edgeDataIndex);\n\n    if (!node && !edge) {\n      return;\n    }\n\n    graph.eachNode(function (node) {\n      fadeOutItem(node, nodeOpacityPath, 0.1);\n    });\n    graph.eachEdge(function (edge) {\n      fadeOutItem(edge, lineOpacityPath, 0.1);\n    });\n\n    if (node) {\n      fadeInItem(node, nodeOpacityPath);\n      zrUtil.each(node.edges, function (adjacentEdge) {\n        if (adjacentEdge.dataIndex < 0) {\n          return;\n        }\n\n        fadeInItem(adjacentEdge, lineOpacityPath);\n        fadeInItem(adjacentEdge.node1, nodeOpacityPath);\n        fadeInItem(adjacentEdge.node2, nodeOpacityPath);\n      });\n    }\n\n    if (edge) {\n      fadeInItem(edge, lineOpacityPath);\n      fadeInItem(edge.node1, nodeOpacityPath);\n      fadeInItem(edge.node2, nodeOpacityPath);\n    }\n  },\n  unfocusNodeAdjacency: function (seriesModel, ecModel, api, payload) {\n    var graph = seriesModel.getData().graph;\n    graph.eachNode(function (node) {\n      fadeOutItem(node, nodeOpacityPath);\n    });\n    graph.eachEdge(function (edge) {\n      fadeOutItem(edge, lineOpacityPath);\n    });\n  },\n  _startForceLayoutIteration: function (forceLayout, layoutAnimation) {\n    var self = this;\n\n    (function step() {\n      forceLayout.step(function (stopped) {\n        self.updateLayout(self._model);\n        (self._layouting = !stopped) && (layoutAnimation ? self._layoutTimeout = setTimeout(step, 16) : step());\n      });\n    })();\n  },\n  _updateController: function (seriesModel, ecModel, api) {\n    var controller = this._controller;\n    var controllerHost = this._controllerHost;\n    var group = this.group;\n    controller.setPointerChecker(function (e, x, y) {\n      var rect = group.getBoundingRect();\n      rect.applyTransform(group.transform);\n      return rect.contain(x, y) && !onIrrelevantElement(e, api, seriesModel);\n    });\n\n    if (seriesModel.coordinateSystem.type !== 'view') {\n      controller.disable();\n      return;\n    }\n\n    controller.enable(seriesModel.get('roam'));\n    controllerHost.zoomLimit = seriesModel.get('scaleLimit');\n    controllerHost.zoom = seriesModel.coordinateSystem.getZoom();\n    controller.off('pan').off('zoom').on('pan', function (e) {\n      roamHelper.updateViewOnPan(controllerHost, e.dx, e.dy);\n      api.dispatchAction({\n        seriesId: seriesModel.id,\n        type: 'graphRoam',\n        dx: e.dx,\n        dy: e.dy\n      });\n    }).on('zoom', function (e) {\n      roamHelper.updateViewOnZoom(controllerHost, e.scale, e.originX, e.originY);\n      api.dispatchAction({\n        seriesId: seriesModel.id,\n        type: 'graphRoam',\n        zoom: e.scale,\n        originX: e.originX,\n        originY: e.originY\n      });\n\n      this._updateNodeAndLinkScale();\n\n      adjustEdge(seriesModel.getGraph(), getNodeGlobalScale(seriesModel));\n\n      this._lineDraw.updateLayout();\n    }, this);\n  },\n  _updateNodeAndLinkScale: function () {\n    var seriesModel = this._model;\n    var data = seriesModel.getData();\n    var nodeScale = getNodeGlobalScale(seriesModel);\n    var invScale = [nodeScale, nodeScale];\n    data.eachItemGraphicEl(function (el, idx) {\n      el.attr('scale', invScale);\n    });\n  },\n  updateLayout: function (seriesModel) {\n    adjustEdge(seriesModel.getGraph(), getNodeGlobalScale(seriesModel));\n\n    this._symbolDraw.updateLayout();\n\n    this._lineDraw.updateLayout();\n  },\n  remove: function (ecModel, api) {\n    this._symbolDraw && this._symbolDraw.remove();\n    this._lineDraw && this._lineDraw.remove();\n  }\n});\n\nmodule.exports = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}